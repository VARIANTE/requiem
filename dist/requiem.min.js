!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.requiem=t():e.requiem=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){/*!
	 * Requiem
	 * (c) VARIANTE (http://variante.io)
	 *
	 * This software is released under the MIT License:
	 * http://www.opensource.org/licenses/mit-license.php
	 */
"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),a=i(r),s=n(2),o=i(s),u={};Object.defineProperty(u,"name",{value:"Requiem",writable:!1}),Object.defineProperty(u,"version",{value:"0.27.1",writable:!1}),(0,a["default"])(u,"dom",n(3)),(0,a["default"])(u,"events",n(37)),(0,a["default"])(u,"net",n(39)),(0,a["default"])(u,"enums",n(42)),(0,a["default"])(u,"ui",n(45)),(0,a["default"])(u,"utils",n(46)),(0,o["default"])(),e.exports=u},function(e,t){"use strict";function n(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1});for(var i in n)n.hasOwnProperty(i)&&Object.defineProperty(e,i,{value:n[i],writable:!1})}e.exports=n},function(e,t){"use strict";function n(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}e.exports=n},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"createElement",{value:n(4),writable:!1,enumerable:!0}),Object.defineProperty(i,"getClassRegistry",{value:n(8),writable:!1,enumerable:!0}),Object.defineProperty(i,"getDataRegistry",{value:n(9),writable:!1,enumerable:!0}),Object.defineProperty(i,"namespace",{value:n(10),writable:!1,enumerable:!0}),Object.defineProperty(i,"ready",{value:n(11),writable:!1,enumerable:!0}),Object.defineProperty(i,"register",{value:n(12),writable:!1,enumerable:!0}),Object.defineProperty(i,"sightread",{value:n(14),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!document)return null;(0,s["default"])(e,"string",!0,"Value must be a string");var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var a=n(5),s=i(a);e.exports=r},function(e,t,n){"use strict";function i(e,t,n,i){if(r(void 0!==t,"Paremeter 'type' must be a string or a class")&&r(void 0===n||"boolean"==typeof n,"Paremeter 'allowUndefined', if specified, must be a boolean")&&r(void 0===i||"string"==typeof i,"Parameter 'message', if specified, must be a string")){n=void 0===n?!1:n;var s=!1;if(n&&void 0===e)s=!0;else if(t instanceof Array){for(var o=t.length,u=0;o>u;u++)if(a(e,t[u])){s=!0;break}}else s=a(e,t);if(!s)throw new Error(i||"AssertType failed");return s}}var r=n(6),a=n(7);e.exports=i},function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assert failed");return e}e.exports=n},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t){if("string"!=typeof t)return e instanceof t;switch(t){case"string":case"object":case"number":case"boolean":case"function":return("undefined"==typeof e?"undefined":n(e))===t;case"class":return"function"==typeof e;case"array":return e.constructor===Array;default:return!1}}e.exports=i},function(e,t){"use strict";function n(){return void 0===window._classRegistry&&(window._classRegistry={}),window._classRegistry}e.exports=n},function(e,t){"use strict";function n(){return void 0===window._dataRegistry&&(window._dataRegistry={}),window._dataRegistry}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if((0,s["default"])(e,"string",!0,"Invalid parameter: path"),(0,s["default"])(t,"object",!0,"Invalid optional parameter: scope"),t||(t=window?window:{}),void 0===e||""===e)return t;for(var n=e.split("."),i=t,r=0;r<n.length;r++)i=i[n[r]]||(i[n[r]]={});return i}var a=n(5),s=i(a);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if((0,s["default"])(e,"function",!1,"Invalid parameter: callback"),!document)return null;var t=function n(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):document.attachEvent&&(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n)),setTimeout(e,1)};return"complete"===document.readyState?setTimeout(e,1):(document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t)),null)}var a=n(5),s=i(a);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){(0,c["default"])(e,"function",!1,"Invalid class provided"),(0,c["default"])(t,"string",!0,"Invalid optional parameter: namespace");var n=(0,p["default"])(e);if("string"==typeof t){var i=t.split(".");n=i.pop(),t=i.join(".")}return(0,d["default"])(void 0===(0,u["default"])(t,(0,s["default"])())[n],"Class name "+n+" is already registered")?((0,u["default"])(t,(0,s["default"])())[n]=e,e):void 0}var a=n(8),s=i(a),o=n(10),u=i(o),l=n(6),d=i(l),f=n(5),c=i(f),h=n(13),p=i(h);e.exports=r},function(e,t){"use strict";function n(e){if(e){if(e.name)return e.name;var t=/function\s([^(]{1,})\(/,n=t.exec(e.toString());return n&&n.length>1?n[1].trim():""}}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=document,t=(0,o["default"])(),i=!1;if(1===arguments.length){var s=arguments[0];(0,f["default"])(s,[Node,"boolean"],!0),s instanceof Node?e=s:"boolean"==typeof obj&&(i=s)}else if(2===arguments.length){var u=arguments[0],d=arguments[1];(0,f["default"])(u,Node,!0),(0,f["default"])(d,"boolean",!0),void 0!==u&&(e=u),void 0!==d&&(i=d)}if(e===document&&(i=!0),i){var c=n(19),p=null;if(!(0,l["default"])(e instanceof Node||e instanceof c||document&&e===document,"Element must be an instance of an Node or the DOM itself."))return null;e instanceof c&&(e=e.element);for(var m=e.querySelectorAll("["+g["default"].CLASS+"], ["+g["default"].INSTANCE+"]"),E=a(m),b=E.length,_=0;b>_;_++){var O=E[_],A=(0,h["default"])(O),T=(0,v["default"])(O,t);(0,f["default"])(T,"function",!1,"Class '"+(0,y["default"])(O)+"' is not found in specified controller scope: "+t);var N=new T({element:O,name:A,children:r(O,!0)});if(A&&A.length>0)if(p||(p={}),p[A])if(p[A]instanceof Array)p[A].push(N);else{var w=[p[A]];w.push(N),p[A]=w}else p[A]=N}return p}var A=(0,h["default"])(e),T=(0,v["default"])(e);return(0,f["default"])(T,"function",!1,"Class '"+(0,y["default"])(e)+"' is not found in specified controller scope: "+t),new T({element:e,name:A,children:r(e,!0)})}function a(e){for(var t=e.length,n=[],i=0;t>i;i++){for(var r=!0,a=e[i],s=0;t>s;s++)if(i!==s){var o=e[s];if((0,_["default"])(o,a)){r=!1;break}}r&&n.push(a)}return n}var s=n(8),o=i(s),u=n(6),l=i(u),d=n(5),f=i(d),c=n(15),h=i(c),p=n(17),v=i(p),m=n(18),y=i(m),E=n(16),g=i(E),b=n(36),_=i(b);e.exports=r},function(e,t,n){"use strict";function i(e){return e.getAttribute(r.INSTANCE)}var r=n(16);e.exports=i},function(e,t){"use strict";var n={CLASS:"data-class",INSTANCE:"data-instance",STATE:"data-state",REF:"data-ref",PROPERTY:"data-"};e.exports=n},function(e,t,n){"use strict";function i(e){var t=s(),i=r(e),u=a(e),l=i?o(i,t):void 0;if(!l&&u&&u.length>0)l=n(19);else if("function"!=typeof l)switch(i){case"Video":l=n(31);break;case"Element":l=n(19);break;case"Grid":l=n(32);break;default:l=null}return l}var r=n(18),a=n(15),s=n(8),o=n(10);e.exports=i},function(e,t,n){"use strict";function i(e){return e.getAttribute(r.CLASS)}var r=n(16);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(9),u=i(o),l=n(6),d=i(l),f=n(5),c=i(f),h=n(20),p=i(h),v=n(13),m=i(v),y=n(21),E=i(y),g=n(22),b=i(g),_=n(15),O=i(_),A=n(23),T=i(A),N=n(24),w=i(N),S=n(25),P=i(S),D=n(16),I=i(D),R=n(26),C=i(R),L=n(28),M=i(L),x=n(14),U=i(x),j=function(){function e(t){if(a(this,e),this.__define_properties(),void 0!==t&&null!==t)if(t instanceof Node)this.element=t;else if("string"==typeof t)this.name=t;else if("object"===("undefined"==typeof t?"undefined":r(t)))for(var n in t)if(this.hasOwnProperty(n))switch(n){case"children":var i=t.children;for(var s in i)this.addChild(i[s],s);break;case"properties":this.setProperties(t.properties);break;default:this[n]=t[n]}if(this.hasAttribute(I["default"].REF)){var o=this.getAttribute(I["default"].REF),l=(0,u["default"])()[o];l&&this.setProperties(l)}for(var d=this.element.attributes,f=d.length,c=new RegExp("^"+I["default"].PROPERTY,"i"),h=0;f>h;h++){var p=d[h];if((0,b["default"])(p.name)&&c.test(p.name)){var v=p.name.replace(c,"").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});e.defineProperty(this,v,{defaultValue:this.getAttribute(p.name),attribute:!0,dirtyType:T["default"].DATA,get:!0,set:!0},"properties")}}(0,E["default"])(this.toString()+":new(",t,")"),this.init()}return s(e,[{key:"init",value:function(){(0,E["default"])(this.toString()+"::init()"),this.__set_node_state(w["default"].INITIALIZED),this.updateDelegate.init();for(var e in this.children){var t=this.children[e];if(t instanceof Array)for(var n=t.length,i=0;n>i;i++){var r=t[i];(r.nodeState===w["default"].IDLE||r.nodeState===w["default"].DESTROYED)&&r.init()}else(t.nodeState===w["default"].IDLE||t.nodeState===w["default"].DESTROYED)&&t.init()}}},{key:"destroy",value:function(){(0,E["default"])(this.toString()+"::destroy()");for(var e in this.children){var t=this.children[e];if(t instanceof Array)for(var n=t.length,i=0;n>i;i++){var r=t[i];r.nodeState!==w["default"].DESTROYED&&r.destroy()}else t.nodeState!==w["default"].DESTROYED&&t.destroy()}this.removeAllEventListeners(),this.updateDelegate.destroy(),this.__set_node_state(w["default"].DESTROYED)}},{key:"update",value:function(){this.__set_node_state(w["default"].UPDATED)}},{key:"respondsTo",value:function(){var e=Array.prototype.slice.call(arguments),t=e.length;(0,d["default"])(t>0,"Too few arguments")&&(0,d["default"])(this.nodeState===w["default"].IDLE,"Responsiveness must be defined when the node state of this element is IDLE")&&(isNaN(e[0])?(this.updateDelegate.conductor=e.shift(),this.updateDelegate.refreshRate=e.shift()):this.updateDelegate.refreshRate=e.shift(),0===e.length?this.updateDelegate.responsive=!0:this.updateDelegate.responsive=e)}},{key:"addChild",value:function(t,n,i){if(!(0,d["default"])(void 0!==t,"Parameter 'child' must be specified"))return null;if("boolean"!=typeof i&&(i=!1),t instanceof Array){var r=t.length,a=[];if(i)for(var s=r-1;s>=0;s--){var o=t[s];a.push(this.addChild(o,n,!0))}else for(var s=0;r>s;s++){var o=t[s];a.push(this.addChild(o,n))}return a}if(!(0,c["default"])(t,[Node,e],!1,"Invalid child specified. Child must be an instance of Node or Requiem Element."))return null;if(t instanceof Node){if((0,p["default"])(n)&&(n=(0,O["default"])(t)),!(0,d["default"])(!(0,p["default"])(n),"Either child name was unprovided or it cannot be deducted from the specified child"))return null;t.removeAttribute(I["default"].INSTANCE),t.setAttribute(I["default"].INSTANCE,n),t=(0,U["default"])(t)}else{if((0,p["default"])(n)&&(n=t.name),!(0,d["default"])(!(0,p["default"])(n),"Either child name was unprovided or it cannot be deducted from the specified child"))return null;t.name=n}if(this.children[n])if(this.children[n]instanceof Array)this.children[n].push(t);else{var u=[this.children[n]];u.push(t),this.children[n]=u}else this.children[n]=t;(t.nodeState===w["default"].IDLE||t.nodeState===w["default"].DESTROYED)&&t.init();var l=!0;if(t.element.parentNode&&document)for(var f=t.element;null!==f&&void 0!==f&&f!==document;)if(f=f.parentNode,f===this.element){l=!1;break}return l&&(i?this.element.insertBefore(t.element,this.element.firstChild):this.element.appendChild(t.element)),t}},{key:"hasChild",value:function(t){if(!(0,d["default"])(void 0!==t,"Child is undefined"))return!1;if("string"==typeof t)return!(0,p["default"])(this.getChild(t));for(var n=t instanceof e?t.element:t;!(0,p["default"])(n)&&n!==document;)if(n=n.parentNode,n===this.element)return!0;return!1}},{key:"removeChild",value:function(t){if((0,d["default"])(!(0,p["default"])(t,!0),"No valid child specified"))if("string"==typeof t)this.removeChild(this.getChild(t));else if(t instanceof Array)for(;t.length>0;)this.removeChild(t[0]);else if(this.hasChild(t)){var n=void 0,i=[];if(t instanceof e?n=t.element:t instanceof Node&&(n=t),(0,p["default"])(n))return null;for(var r in this.children){var a=this.children[r];if(a instanceof Array){for(var s=a.length,o=0,u=0;s>u;u++){var l=a[u];if(o=u,l.element===n){i.push(l),l.destroy(),n.parentNode.removeChild(n);break}}a.splice(o,1),0===a.length&&delete this.children[r]}else a instanceof e&&(a.element===n?(i.push(a),a.destroy(),n.parentNode.removeChild(n),delete this.children[r]):i.push(a.removeChild(t)))}return 0===i.length?null:1===i.length?i[0]:i}}},{key:"getChild",value:function(t,n){if(!(0,c["default"])(t,"string",!1,"Child name must be specified"))return null;if(!(0,c["default"])(n,"boolean",!0,"Parameter 'recursive', if specified, must be a boolean"))return null;n=void 0===n?!0:n;var i=t.split("."),r=i.shift(),a=this.children[r];if(n&&i.length>0){if(a instanceof Array){for(var s=[],o=a.length,u=0;o>u;u++){var l=a[u];l instanceof e?s.push(l.getChild(i.join("."))):s.push(null)}return(0,p["default"])(s,!0)?null:s}return a instanceof e?a.getChild(i.join(".")):null}return a instanceof e?a:(0,p["default"])(a,!0)?null:a}},{key:"addEventListener",value:function(){var e=this,t=arguments[0],n=arguments[1],i=arguments[2]||!1;if(this.cachesListeners){this._listenerMap||Object.defineProperty(this,"_listenerMap",{value:{},writable:!1}),this._listenerMap[t]||(this._listenerMap[t]=[]);var r=this._listenerMap[t],a=r.length,s=!0;t===P["default"].MOUSE.CLICK_OUTSIDE&&!function(){var t=n;n=function(e){e.target===this.element||this.hasChild(e.target)||t(e)}.bind(e)}();for(var o=0;a>o;o++){var u=r[o];if(u.listener===n){s=!1;break}}s&&r.push({listener:n,useCapture:i})}window&&t===P["default"].MOUSE.CLICK_OUTSIDE?window.addEventListener(P["default"].MOUSE.CLICK,n,i):this.element.addEventListener.apply(this.element,arguments)}},{key:"hasEventListener",value:function(e,t){if(!this._listenerMap)return!1;if(!this._listenerMap[e])return!1;if(t){for(var n=this._listenerMap[e],i=n.length,r=0;i>r;r++){var a=n[r];if(a.listener===t)return!0}return!1}return!0}},{key:"removeEventListener",value:function(){var e=arguments[0],t=arguments[1],n=arguments[2]||!1;if(this._listenerMap){var i=this._listenerMap[e],r=i.length,a=-1;if(t){for(var s=0;r>s;s++){var o=i[s];if(o.listener===t){a=s;break}}a>-1&&(i.splice(a,1),0===i.length&&(this._listenerMap[e]=null,delete this._listenerMap[e]))}else for(;void 0!==this._listenerMap[e];)this.removeEventListener(e,this._listenerMap[e][0].listener,this._listenerMap[e][0].useCapture)}t&&(window&&e===P["default"].MOUSE.CLICK_OUTSIDE?window.removeEventListener(P["default"].MOUSE.CLICK,t,n):this.element.removeEventListener.apply(this.element,arguments))}},{key:"removeAllEventListeners",value:function(){if(this._listenerMap)for(var e in this._listenerMap)this.removeEventListener(e)}},{key:"dispatchEvent",value:function(e){this.element.dispatchEvent(e)}},{key:"addClass",value:function(e){var t=[];if((0,d["default"])("string"==typeof e||e instanceof Array,"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof e?t.push(e):t=e;for(var n=t.length,i=0;n>i;i++){var r=t[i];(0,d["default"])("string"==typeof r,"Invalid class detected: "+r)&&(this.hasClass(r)||(this.element.className=this.element.className+(""===this.element.className?"":" ")+r))}}}},{key:"removeClass",value:function(e){var t=[];if((0,d["default"])("string"==typeof e||e instanceof Array,"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof e?t.push(e):t=e;for(var n=t.length,i=0;n>i;i++){var r=t[i];if((0,d["default"])("string"==typeof r,"Invalid class detected: "+r)){var a=new RegExp("^"+r+"\\s+|\\s+"+r+"|^"+r+"$","g");this.element.className=this.element.className.replace(a,"")}}""===this.element.className&&this.element.removeAttribute("class")}}},{key:"hasClass",value:function(e){return(0,d["default"])("string"==typeof e,"Invalid class detected: "+e)?this.classes.indexOf(e)>-1:!1}},{key:"getProperty",value:function(e){return this.properties[e]}},{key:"hasProperty",value:function(e){return this.properties.hasOwnProperty(e)}},{key:"setProperty",value:function(t,n,i){this.hasProperty(t)?this.properties[t]=n:e.defineProperty(this,t,{defaultValue:n,dirtyType:T["default"].DATA,get:!0,set:!0,attribute:i},"properties")}},{key:"setProperties",value:function(e){if((0,c["default"])(e,"object",!1),e)for(var t in e)this.setProperty(t,e[t])}},{key:"getAttribute",value:function(e){var t=this.element.getAttribute(e);if(""===t)return!0;if(void 0===t||null===t)return null;try{return JSON.parse(t)}catch(n){return t}}},{key:"setAttribute",value:function(e,t){(0,d["default"])((0,b["default"])(e),"Attribute '"+e+"' is reserved")&&(void 0===t||null===t||t===!1?this.element.removeAttribute(e):t===!0?this.element.setAttribute(e,""):this.element.setAttribute(e,t),"disabled"===e&&this.setDirty(T["default"].STATE))}},{key:"removeAttribute",value:function(e){this.element.removeAttribute(e)}},{key:"hasAttribute",value:function(e){var t=this.element.getAttribute(e);return""===t?!0:!(0,p["default"])(t)}},{key:"getStyle",value:function(t,n,i){return e.getStyle(this,t,n,i)}},{key:"setStyle",value:function(t,n){e.setStyle(this,t,n)}},{key:"removeStyle",value:function(t){return e.removeStyle(this,t)}},{key:"hasStyle",value:function(t){return e.hasStyle(this,t)}},{key:"render",value:function(){return document.createElement("div")}},{key:"isDirty",value:function(){return this.updateDelegate.isDirty.apply(this.updateDelegate,arguments)}},{key:"setDirty",value:function(){return this.updateDelegate.setDirty.apply(this.updateDelegate,arguments)}},{key:"toString",value:function(){return"["+(0,m["default"])(this.constructor)+"{"+this.name+"}]"}},{key:"__define_properties",value:function(){var t=this;e.defineProperty(this,"element",{get:function(e){if(!t.__private__.element){var n=t.render();t.__validate_element(n)&&(t.__private__.element=n);var i=(0,U["default"])(n,!0);for(var r in i)t.addChild(i[r],r)}return t.__private__.element},set:function(e){return t.__private__.element?t.__private__.element:t.__validate_element(e)?e:null}}),Object.defineProperty(this,"id",{get:function(){return t.element.id},set:function(e){return t.element.setAttribute("id",e)}}),Object.defineProperty(this,"name",{get:function(){var e=t.element.getAttribute(I["default"].INSTANCE);return e&&""!==e?e:null},set:function(e){e&&""!==e&&(t.name||t.element.setAttribute(I["default"].INSTANCE,e))}}),Object.defineProperty(this,"classes",{get:function(){return t.element.className.split(" ")},set:function(e){return t.element.className=e.join(" ")}}),Object.defineProperty(this,"attributes",{get:function(){return t.element.attributes}}),Object.defineProperty(this,"styles",{get:function(){return t.element.style}}),e.defineProperty(this,"nodeState",{defaultValue:w["default"].IDLE,get:!0}),Object.defineProperty(this,"state",{get:function(){var e=t.element.getAttribute(I["default"].STATE);return e&&""!==e?e:null},set:function(e){if(t.state!==e){var n=t.state;null===e||void 0===e?t.element.removeAttribute(I["default"].STATE):t.element.setAttribute(I["default"].STATE,e),t.updateDelegate.setDirty(T["default"].STATE);var i=new CustomEvent(P["default"].OBJECT.STATE,{detail:{property:"state",oldValue:n,newValue:e}});t.dispatchEvent(i)}}}),e.defineProperty(this,"children",{defaultValue:{},get:!0}),e.defineProperty(this,"data",{defaultValue:null,get:!0,set:!0,dirtyType:T["default"].DATA,eventType:P["default"].DATA.DATA_CHANGE}),e.defineProperty(this,"properties",{defaultValue:{},get:!0}),e.defineProperty(this,"updateDelegate",{defaultValue:new C["default"](this),get:!0}),e.defineProperty(this,"cachesListeners",{defaultValue:!0,get:!0,set:!0}),Object.defineProperty(this,"childCount",{get:function(){var n=0;for(var i in t.children){var r=t.children[i];r instanceof e?n+=1:r instanceof Array&&(n+=r.length)}return n}}),Object.defineProperty(this,"content",{get:function(){return t.element.innerHTML},set:function(e){return t.element.innerHTML=e}}),Object.defineProperty(this,"rect",{get:function(){return(0,M["default"])(t)}}),Object.defineProperty(this,"opacity",{get:function(){return t.getStyle("opacity",!0)},set:function(e){return t.setStyle("opacity",e)}}),e.defineProperty(this,"hidden",{get:!0,set:function(e){return(0,c["default"])(e,"boolean",!0),e?t.setStyle("display","none"):"none"===t.getStyle("display")&&t.removeStyle("display"),e}}),e.defineProperty(this,"invisible",{get:!0,set:function(e){return(0,c["default"])(e,"boolean",!1),e?t.setStyle("visibility","hidden"):"hidden"===t.getStyle("visibility")&&t.removeStyle("visibility"),e}}),Object.defineProperty(this,"disabled",{get:function(){return t.hasAttribute("disabled")?t.getAttribute("disabled"):!1},set:function(e){return t.setAttribute("disabled",e?!0:!1)}})}},{key:"__validate_element",value:function(e){return!0}},{key:"__set_node_state",value:function(e){this.__private__.nodeState=e}}],[{key:"defineProperty",value:function(t,n,i,r){(0,c["default"])(t,e,!1,"Parameter 'element' must be an Element instance"),(0,c["default"])(i,"object",!1,"Parameter 'descriptor' must be an object literal"),(0,c["default"])(i.configurable,"boolean",!0,"Optional configurable key in descriptor must be a boolean"),(0,c["default"])(i.enumerable,"boolean",!0,"Optional enumerable key in descriptor must be a boolean"),(0,c["default"])(i.writable,"boolean",!0,"Optional writable key in descriptor must be a boolean"),(0,c["default"])(i.unique,"boolean",!0,"Optional unique key in descriptor must be a boolean"),(0,c["default"])(i.dirtyType,"number",!0,"Optional dirty type must be of DirtyType enum (number)"),(0,c["default"])(i.eventType,"string",!0,"Optional event type must be a string"),(0,c["default"])(i.attribute,"boolean",!0,"Optional attribute must be a boolean"),(0,c["default"])(i.onChange,"function",!0,"Optional change handler must be a function"),(0,c["default"])(r,"string",!0,"Optional parameter 'scope' must be a string"),(0,d["default"])((0,b["default"])(i.attribute),"Attribute '"+i.attribute+"' is reserved");var a=i.dirtyType,s=i.defaultValue,o=i.attribute,u=I["default"].PROPERTY+n.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}),l=i.eventType,f=i.unique;void 0===f&&(f=!0),void 0===r?r=t:((0,d["default"])(t.hasOwnProperty(r),"The specified Element instance does not have a property called '"+r+"'"),r=t[r]),void 0!==s&&(r.__private__=r.__private__||{},Object.defineProperty(r.__private__,n,{value:s,writable:!0}));var h={};void 0!==i.configurable&&(h.configurable=i.configurable),void 0!==i.enumerable&&(h.enumerable=i.enumerable),void 0!==i.value&&(h.value=i.value),void 0!==i.writable&&(h.writable=i.writable),i.get&&(h.get=function(){return"function"==typeof i.get?i.get(r.__private__[n]):r.__private__[n]}),i.set&&(h.set=function(e){var s=r.__private__[n];if("function"==typeof i.set&&(e=i.set(e)),(!f||s!==e)&&(void 0===s?(r.__private__=r.__private__||{},Object.defineProperty(r.__private__,n,{value:e,writable:!0})):r.__private__[n]=e,void 0!==i.onChange&&i.onChange(s,e),o===!0&&t.setAttribute(u,e),void 0!==a&&t.setDirty(a),void 0!==l)){var d=new CustomEvent(l,{detail:{property:n,oldValue:s,newValue:e}});t.dispatchEvent(d)}}),Object.defineProperty(r,n,h),void 0!==s&&o===!0&&t.setAttribute(u,s),void 0!==s&&void 0!==a&&t.nodeState>=w["default"].UPDATED&&t.setDirty(a)}},{key:"addEventListener",value:function(){var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3]||!1;(0,d["default"])(!t||t instanceof e),(0,p["default"])(t)||t.addEventListener(n,i,r)}},{key:"removeEventListener",value:function(){var t=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3]||!1;(0,d["default"])(!t||t instanceof e),(0,p["default"])(t)||t.removeEventListener(n,i,r)}},{key:"getStyle",value:function(t,n,i,r){(0,c["default"])(t,[Node,e],!1,"Invalid element specified"),t instanceof e&&(t=t.element),"boolean"!=typeof i&&(i=!1),"boolean"!=typeof r&&(r=!1);var a=i?window.getComputedStyle(t,null).getPropertyValue(n):t.style[n],s=new RegExp("^[+-]?[0-9]+.?([0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)$","i");return""===a?r?{value:null,unit:null}:null:isNaN(Number(a))?s.test(a)?r?"%"===a.charAt(a.length-1)?{value:Number(a.substr(0,a.length-1)),unit:a.slice(-1)}:{value:Number(a.substr(0,a.length-2)),unit:a.slice(-2)}:a:r?{value:a,units:null}:a:r?{value:Number(a),unit:null}:Number(a)}},{key:"setStyle",value:function(t,n,i){(0,c["default"])(t,[Node,e],!1,"Invalid element specified"),t instanceof e&&(t=t.element),"number"==typeof i&&(i=String(i)),(null===i||void 0===i)&&(i=""),t.style[n]=i}},{key:"removeStyle",value:function(t,n){(0,c["default"])(t,[Node,e],!1,"Invalid element specified"),t instanceof e&&(t=t.element),t.style[n]=""}},{key:"hasStyle",value:function(t,n){return(0,c["default"])(t,[Node,e],!1,"Invalid element specified"),t instanceof e&&(t=t.element),""!==t.style[n]}}]),e}();e.exports=j},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){if(a(t,"boolean",!0,"Invalid parameter: recursive"),void 0===t&&(t=!1),void 0===e||null===e)return!0;if("string"==typeof e)return""===e?!0:!1;if(t&&e instanceof Array){for(var n=e.length,s=0;n>s;s++)if(!r(e[s],!0))return!1;return!0}if(t&&"object"===("undefined"==typeof e?"undefined":i(e))&&e.constructor===Object){for(var o in e)if(!r(e[o],!0))return!1;return!0}return!1}var a=n(5);e.exports=r},function(e,t){"use strict";function n(e){window&&window.REQUIEM_DEBUG&&window.console&&console.log&&Function.apply.call(console.log,console,arguments)}e.exports=n},function(e,t,n){"use strict";function i(e){for(var t in r)if(e===r[t])return!1;return!0}var r=n(16);e.exports=i},function(e,t){"use strict";var n={NONE:0,POSITION:1,SIZE:2,LAYOUT:4,STATE:8,DATA:16,LOCALE:32,DEPTH:64,CONFIG:128,STYLE:256,INPUT:512,ORIENTATION:1024,CUSTOM:2048,ALL:4294967295,toString:function(e){if(e===n.NONE)return"NONE";if(e>=n.ALL)return"ALL";for(var t="",i=32,r=0;i>r;r++){var a=e>>r&1;if(0!==a)switch(1<<r){case n.POSITION:t+="POSITION";break;case n.SIZE:t+="SIZE";break;case n.LAYOUT:t+="LAYOUT";break;case n.STATE:t+="STATE";break;case n.DATA:t+="DATA";break;case n.LOCALE:t+="LOCALE";break;case n.DEPTH:t+="DEPTH";break;case n.CONFIG:t+="CONFIG";break;case n.STYLE:t+="STYLE";break;case n.INPUT:t+="INPUT";break;case n.ORIENTATION:t+="ORIENTATION";break;default:t+=String(1<<r)}}return t}};e.exports=n},function(e,t){"use strict";var n={IDLE:0,INITIALIZED:1,UPDATED:2,DESTROYED:3,toString:function(e){switch(e){case n.IDLE:return"IDLE";case n.INITIALIZED:return"INITIALIZED";case n.UPDATED:return"UPDATED";case n.DESTROYED:return"DESTROYED";default:return"UNKNOWN"}}};e.exports=n},function(e,t){"use strict";var n={DATA:{DATA_CHANGE:"datachange"},MOUSE:{CLICK:"click",CONTEXT_MENU:"contextmenu",CLICK_OUTSIDE:"clickoutside",DOUBLE_CLICK:"dblclick",MOUSE_DOWN:"mousedown",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_MOVE:"mousemove",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",MOUSE_UP:"mouseup"},KEYBOARD:{KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup"},DEVICE:{DEVICE_ORIENTATION:"deviceorientation",DEVICE_MOTION:"devicemotion",ORIENTATION:"MozOrientation",ORIENTATION_CHANGE:"orientationchange"},OBJECT:{ABORT:"abort",BEFORE_UNLOAD:"beforeunload",ERROR:"error",HASH_CHANGE:"hashchange",LOAD:"load",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",PROGRESS:"progress",STATE:"state"},FORM:{BLUR:"blur",CHANGE:"change",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",INPUT:"input",INVALID:"invalid",RESET:"reset",SEARCH:"search",SELECT:"select",SUBMIT:"submit",CANCEL:"cancel"},DRAG:{DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DRAG_START:"dragstart",DROP:"drop"},CLIPBOARD:{COPY:"copy",CUT:"cut",PASTE:"paste"},PRINT:{AFTER_PRINT:"afterprint",BEFORE_PRINT:"beforeprint"},MEDIA:{ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting"},ANIMATION:{ANIMATION_END:"animationend",ANIMATION_ITERATION:"animationiteration",ANIMATION_START:"animationstart"},TRANSITION:{TRANSITION_END:"transitionend"},SERVER_SENT:{ERROR:"error",MESSAGE:"message",OPEN:"open"},MISC:{MESSAGE:"message",ONLINE:"online",OFFLINE:"offline",POP_STATE:"popstate",SHOW:"show",STORAGE:"storage",TOGGLE:"toggle",WHEEL:"wheel"},TOUCH:{TOUCH_CANCEL:"touchcancel",TOUCH_END:"touchend",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart"}};e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(27),o=i(s),u=n(21),l=i(u),d=n(23),f=i(d),c=n(25),h=i(c),p=0,v=function(){function e(t){r(this,e),this.__define_properties();var n=0,i=null,a=null,s=null,u=null,d=null,c=null,p=null,v=null;this.delegate=t;var m=function(e){var t=window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||null;return t||(t=function(e){return window?window.setTimeout(e,10):null}),t(e)},y=function(e){var t=window&&(window.requestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame)||null;return t||(t=function(e){return window?window.clearTimeout(e):null}),t},E=function(e){this.setDirty(f["default"].SIZE)},g=function(e){this.setDirty(f["default"].POSITION)},b=function(e){this.mouse.pointerX=e.clientX,this.mouse.pointerY=e.clientY,this.setDirty(f["default"].INPUT)},_=function(e){this.mouse.wheelX=e.deltaX,this.mouse.wheelY=e.deltaY,this.setDirty(f["default"].INPUT)},O=function(e){if(window){var t=void 0,n=void 0,i=void 0;e instanceof window.DeviceOrientationEvent?(t=e.beta,n=e.gamma,i=e.alpha):e instanceof window.DeviceMotionEvent?(t=2*e.acceleration.x,n=2*e.acceleration.y,i=2*e.acceleration.z):(t=50*e.orientation.x,n=50*e.orientation.y,i=50*e.orientation.z),this.orientation.x=t,this.orientation.y=n,this.orientation.z=i,this.setDirty(f["default"].ORIENTATION)}},A=function(e){window&&(void 0===this.keyCode.down&&(this.keyCode.down=[]),this.keyCode.down.push(e.keyCode),this.setDirty(f["default"].INPUT))},T=function(e){window&&(void 0===this.keyCode.press&&(this.keyCode.press=[]),this.keyCode.press.push(e.keyCode),this.setDirty(f["default"].INPUT))},N=function(e){window&&(void 0===this.keyCode.up&&(this.keyCode.up=[]),this.keyCode.up.push(e.keyCode),this.setDirty(f["default"].INPUT))};this.setDirty=function(e,t){if(this.transmissive!==f["default"].NONE&&this.delegate.children)for(var i in this.delegate.children){var r=void 0;r=this.delegate.children[i]instanceof Array?this.delegate.children[i]:[this.delegate.children[i]];for(var a=r.length,s=0;a>s;s++){var o=r[s];if(o.updateDelegate&&o.updateDelegate.setDirty){var u=e&o.updateDelegate.receptive;
u!==f["default"].NONE&&o.updateDelegate.setDirty(u,t)}}}if(!this.isDirty(e)||t){switch(e){case f["default"].NONE:case f["default"].ALL:n=e;break;default:n|=e}t?this.update():this._pendingAnimationFrame||(this._pendingAnimationFrame=m(this.update.bind(this)))}},this.isDirty=function(e){switch(e){case f["default"].NONE:case f["default"].ALL:return n===e;default:return 0!==(e&n)}},this.init=function(){var e=this.conductor||window;window&&e&&e.addEventListener&&(this.responsive===!0||this.responsive instanceof Array)&&((this.responsive===!0||this.responsive.indexOf(h["default"].OBJECT.RESIZE)>-1||this.responsive.indexOf(h["default"].DEVICE.ORIENTATION_CHANGE)>-1)&&(i=0===this.refreshRate?E.bind(this):(0,o["default"])(E.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(h["default"].OBJECT.SCROLL)>-1)&&(a=0===this.refreshRate?g.bind(this):(0,o["default"])(g.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(h["default"].MISC.WHEEL)>-1)&&(d=0===this.refreshRate?_.bind(this):(0,o["default"])(_.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(h["default"].MOUSE.MOUSE_MOVE)>-1)&&(s=0===this.refreshRate?b.bind(this):(0,o["default"])(b.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(h["default"].DEVICE.DEVICE_ORIENTATION)>-1||this.responsive.indexOf(h["default"].DEVICE.DEVICE_MOTION)>-1||this.responsive.indexOf(h["default"].DEVICE.ORIENTATION)>-1)&&(u=0===this.refreshRate?O.bind(this):(0,o["default"])(O.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(h["default"].KEYBOARD.KEY_DOWN)>-1)&&(v=A.bind(this)),(this.responsive===!0||this.responsive.indexOf(h["default"].KEYBOARD.KEY_PRESS)>-1)&&(p=T.bind(this)),(this.responsive===!0||this.responsive.indexOf(h["default"].KEYBOARD.KEY_UP)>-1)&&(c=N.bind(this)),i&&(window.addEventListener(h["default"].OBJECT.RESIZE,i),window.addEventListener(h["default"].DEVICE.ORIENTATION_CHANGE,i)),a&&e.addEventListener(h["default"].OBJECT.SCROLL,a),d&&e.addEventListener(h["default"].MISC.WHEEL,d),s&&e.addEventListener(h["default"].MOUSE.MOUSE_MOVE,s),u&&(window.DeviceOrientationEvent?window.addEventListener(h["default"].DEVICE.DEVICE_ORIENTATION,u):window.DeviceMotionEvent&&window.addEventListener(h["default"].DEVICE.DEVICE_MOTION,u)),v&&window.addEventListener(h["default"].KEYBOARD.KEY_DOWN,v),p&&window.addEventListener(h["default"].KEYBOARD.KEY_PRESS,p),c&&window.addEventListener(h["default"].KEYBOARD.KEY_UP,c)),this.setDirty(f["default"].ALL)},this.destroy=function(){y();var e=this.conductor||window;window&&e&&e.removeEventListener&&(i&&(window.removeEventListener(h["default"].OBJECT.RESIZE,i),window.removeEventListener(h["default"].DEVICE.ORIENTATION_CHANGE,i)),a&&e.removeEventListener(h["default"].OBJECT.SCROLL,a),d&&e.removeEventListener(h["default"].MISC.WHEEL,d),s&&e.removeEventListener(h["default"].MOUSE.MOUSE_MOVE,s),u&&(window.DeviceOrientationEvent?window.removeEventListener(h["default"].DEVICE.DEVICE_ORIENTATION,u):window.DeviceMotionEvent&&window.removeEventListener(h["default"].DEVICE.DEVICE_MOTION,u)),v&&window.removeEventListener(h["default"].KEYBOARD.KEY_DOWN,v),p&&window.removeEventListener(h["default"].KEYBOARD.KEY_PRESS,p),c&&window.removeEventListener(h["default"].KEYBOARD.KEY_UP,c)),i=null,a=null,d=null,s=null,u=null,v=null,p=null,c=null},this.update=function(){y(this._pendingAnimationFrame),this.delegate&&this.delegate.update&&((0,l["default"])(this.toString()+"::update(",f["default"].toString(n),")"),this.delegate.update.call(this.delegate)),this.setDirty(f["default"].NONE),delete this.mouse.pointerX,delete this.mouse.pointerY,delete this.mouse.wheelX,delete this.mouse.wheelY,delete this.orientation.x,delete this.orientation.y,delete this.orientation.z,delete this.keyCode.up,delete this.keyCode.press,delete this.keyCode.down,this._pendingAnimationFrame=null}}return a(e,[{key:"toString",value:function(){return"[ElementUpdateDelegate{"+(this.delegate&&this.delegate.name||"undefined")+"}]"}},{key:"__define_properties",value:function(){Object.defineProperty(this,"delegate",{value:null,writable:!0}),Object.defineProperty(this,"responsive",{value:!1,writable:!0}),Object.defineProperty(this,"refreshRate",{value:p,writable:!0}),Object.defineProperty(this,"transmissive",{value:f["default"].NONE,writable:!0}),Object.defineProperty(this,"receptive",{value:f["default"].NONE,writable:!0}),Object.defineProperty(this,"conductor",{value:window,writable:!0}),Object.defineProperty(this,"mouse",{value:{},writable:!1}),Object.defineProperty(this,"orientation",{value:{},writable:!1}),Object.defineProperty(this,"keyCode",{value:{},writable:!1})}}]),e}();e.exports=v},function(e,t,n){"use strict";function i(e,t,n){r(e,"function",!1,"Invalid parameter: method"),r(t,"number",!0,"Invalid optional parameter: delay"),r(n,"boolean",!0,"Invalid optional parameter: leading"),void 0===t&&(t=0),void 0===n&&(n=!1);var i=void 0;return function(){var r=this,a=arguments,s=function(){i=null,n||e.apply(r,a)},o=n&&!i;clearTimeout(i),i=setTimeout(s,t),o&&e.apply(r,a)}}var r=n(5);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(0,s["default"])(window,"This method relies on the window object, which is undefined."))return null;if(e===window)return(0,d["default"])();t||(t=window);var n=(0,u["default"])(e),i=n.length;if(0>=i)return null;var a=r(t);if(!(0,s["default"])(a,"Cannot determine reference FOV."))return null;for(var o=r(window),l={},f=0;i>f;f++){var c=n[f],h=c.getBoundingClientRect(),p=h.width,v=h.height,m=h.top+o.top;t!==window&&(m-=a.top);var y=h.left+o.left;t!==window&&(y-=a.left);var E=m+v,g=y+p;void 0===l.left?l.left=y:l.left=Math.min(l.left,y),void 0===l.right?l.right=g:l.right=Math.max(l.right,g),void 0===l.top?l.top=m:l.top=Math.min(l.top,m),void 0===l.bottom?l.bottom=E:l.bottom=Math.max(l.bottom,E)}return l.width=l.right-l.left,l.height=l.bottom-l.top,l}var a=n(6),s=i(a),o=n(29),u=i(o),l=n(30),d=i(l);e.exports=r},function(e,t,n){"use strict";function i(e,t){var i=n(19);if(!e)return null;var r=void 0;r=e instanceof Array?e:e instanceof NodeList?Array.prototype.slice.call(e):e instanceof i?[e.element]:[e];for(var a=r.length,s=0;a>s;s++){var o=r[s];!t&&o instanceof i&&(r[s]=o.element)}return r}e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){if(!(0,s["default"])(window&&document,"Window or document undefined."))return null;var e={};return e.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.top=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e.left=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e.bottom=e.top+e.height,e.right=e.left+e.width,e}var a=n(6),s=i(a);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function v(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:v(r,t,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},l=n(6),d=(i(l),n(23)),f=i(d),c=n(19),h=i(c),p=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),o(t,[{key:"update",value:function(){this.updateDelegate.isDirty(f["default"].DATA)&&this.__update_source(),u(Object.getPrototypeOf(t.prototype),"update",this).call(this)}},{key:"render",value:function(){return document.createElement("video")}},{key:"__update_source",value:function(){var e=void 0,t=void 0,n=this.element.getElementsByTagName("source");for(t=n.length,e=0;t>e;e++){var i=n[e];this.element.removeChild(i)}if(this.source)for(t=this.source.length,e=0;t>e;e++){var r=document.createElement("source"),a=this.source[e].src,s=this.source[e].type,o=a.split(".").pop();r.setAttribute("src",a),r.setAttribute("type",s||"video/"+o),this.element.appendChild(r)}}},{key:"__validate_element",value:function(e){return!0}},{key:"__define_properties",value:function(){var e=this;Object.defineProperty(this,"autoplay",{get:function(){return e.element.autoplay},set:function(t){e.element.autoplay=t,e.updateDelegate.setDirty(f["default"].CUSTOM)}}),Object.defineProperty(this,"controls",{get:function(){return e.element.controls},set:function(t){e.element.controls=t,e.updateDelegate.setDirty(f["default"].CUSTOM)}}),Object.defineProperty(this,"loop",{get:function(){return e.element.loop},set:function(t){e.element.loop=t,e.updateDelegate.setDirty(f["default"].CUSTOM)}}),Object.defineProperty(this,"muted",{get:function(){return e.element.muted},set:function(t){e.element.muted=t,e.updateDelegate.setDirty(f["default"].CUSTOM)}}),Object.defineProperty(this,"poster",{get:function(){return e.element.poster},set:function(t){e.element.poster=t,e.updateDelegate.setDirty(f["default"].CUSTOM)}}),Object.defineProperty(this,"preload",{get:function(){return e.element.preload},set:function(t){e.element.preload=t,e.updateDelegate.setDirty(f["default"].CUSTOM)}}),h["default"].defineProperty(this,"source",{get:!0,set:!0,dirtyType:f["default"].DATA}),u(Object.getPrototypeOf(t.prototype),"__define_properties",this).call(this)}}]),t}(h["default"]);e.exports=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function w(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},l=n(28),d=i(l),f=n(33),c=i(f),h=n(34),p=i(h),v=n(19),m=i(v),y=n(23),E=i(y),g=n(25),b=i(g),_=n(35),O=i(_),A=n(5),T=i(A),N=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),o(t,[{key:"init",value:function(){this.respondsTo(10,b["default"].OBJECT.RESIZE),u(Object.getPrototypeOf(t.prototype),"init",this).call(this)}},{key:"update",value:function(){this.isDirty(E["default"].SIZE|E["default"].LAYOUT)&&this.reposition(),u(Object.getPrototypeOf(t.prototype),"update",this).call(this)}},{key:"reposition",value:function(){var e=this.length;if(!(this.length<2)){for(var t=[{x:0,y:0,width:this.maxWidth,height:this.maxHeight}],n=0,i=0,r=NaN,a=NaN,s=0;e>s;s++){var o=this.getChild("item")[s];isNaN(this.itemWidth)||(0,p["default"])(o,{width:this.itemWidth}),isNaN(this.itemHeight)||(0,p["default"])(o,{height:this.itemHeight});var u=this.__computeItemPosition(o,t);if(u){o.setStyle("position","absolute"),(0,c["default"])(o,{x:u.x,y:u.y});var l=(0,d["default"])(o);u.x+l.width>n&&(n=u.x+l.width),u.y+l.height>i&&(i=u.y+l.height),(isNaN(r)||l.width<r)&&(r=l.width),(isNaN(a)||l.height<a)&&(a=l.height)}}this.autoResize||(isNaN(r)||this.orientation!==O["default"].PORTRAIT?isNaN(a)||(i=this.maxHeight-(this.maxHeight-i)%(a+this.padding)):n=this.maxWidth-(this.maxWidth-n)%(r+this.padding)),(0,p["default"])(this,{width:n,height:i})}}},{key:"__computeItemPosition",value:function(e,t){for(var n=e.rect,i=null,r=-1,a=t.length,s=0;a>s;s++){var o=t[s];this.orientation===O["default"].PORTRAIT?o.width>=n.width&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x)&&(i=o,r=s):o.height>=n.height&&(!i||o.x<i.x||o.x===i.x&&o.y<i.y)&&(i=o,r=s)}return i&&r>-1&&(this.orientation===O["default"].PORTRAIT?(i.width-n.width-this.padding>0?t[r]={x:i.x+n.width+this.padding,y:i.y,width:i.width-n.width-this.padding}:t.splice(r,1),t.push({x:i.x,y:i.y+n.height+this.padding,width:n.width})):(i.height-n.height-this.padding>0?t[r]={x:i.x,y:i.y+n.height+this.padding,height:i.height-n.height-this.padding}:t.splice(r,1),t.push({x:i.x+n.width+this.padding,y:i.y,height:n.height}))),i}},{key:"padding",get:function(){var e=this.__private__.padding,t=this.getProperty("padding");return isNaN(e)?isNaN(t)?0:t:e},set:function(e){(0,T["default"])(e,"number",!1,"Padding must be a number in pixels"),e!==this.padding&&(this.__private__.padding=e,this.setDirty(E["default"].LAYOUT))}},{key:"maxWidth",get:function(){var e=m["default"].getStyle(this.element.parentNode,"padding-left",!0,!0).value+m["default"].getStyle(this.element.parentNode,"padding-right",!0,!0).value,t=(0,d["default"])(this.element.parentNode).width-e,n=this.__private__.maxWidth,i=this.getStyle("max-width",!0),r=this.getProperty("maxWidth"),a=void 0;return null!==r&&void 0!==r&&(a=r),null!==i&&void 0!==i&&(a=i),null!==n&&void 0!==n&&(a=n),(null===a||void 0===a)&&(a=t),(0,T["default"])(a,["number","string"],!1,"Invalid max width provided"),"number"==typeof a?a:a.indexOf("px")>-1?Number(a.substring(0,a.length-2)):a.indexOf("%")>-1?Number(a.substring(0,a.length-1))/100*t:t},set:function(e){(0,T["default"])(e,"number",!1,"Max width must be a number in pixels"),e!==this.maxWidth&&(this.__private__.maxWidth=e,this.setDirty(E["default"].SIZE))}},{key:"maxHeight",get:function(){var e=(0,d["default"])(this.element.parentNode).height,t=this.__private__.maxHeight,n=this.getStyle("max-height",!0),i=this.getProperty("maxHeight"),r=void 0;return null!==i&&void 0!==i&&(r=i),null!==n&&void 0!==n&&(r=n),null!==t&&void 0!==t&&(r=t),(null===r||void 0===r)&&(r=e),(0,T["default"])(r,["number","string"],!1,"Invalid max height provided"),"number"==typeof r?r:r.indexOf("px")>-1?Number(r.substring(0,r.length-2)):r.indexOf("%")>-1?Number(r.substring(0,r.length-1))/100*e:e},set:function(e){(0,T["default"])(e,"number",!1,"Max height must be a number in pixels"),e!==this.maxHeight&&(this.__private__.maxHeight=e,this.setDirty(E["default"].SIZE))}},{key:"orientation",get:function(){var e=this.__private__.orientation,t=this.getProperty("orientation");return isNaN(e)?isNaN(t)?O["default"].PORTRAIT:t:e},set:function(e){(0,T["default"])(e,"number",!1,"Invalid orientation provided"),e!==this.orientation&&(this.__private__.orientation=e,this.setDirty(E["default"].LAYOUT))}},{key:"length",get:function(){var e=this.items;return e?e.length:0}},{key:"items",get:function(){var e=this.getChild("item");return e instanceof Array?e:e instanceof m["default"]?[e]:null}},{key:"itemWidth",get:function(){var e=this.__private__.itemWidth,t=this.getProperty("itemWidth");return isNaN(e)?isNaN(t)?NaN:t:e},set:function(e){e!==this.itemWidth&&(null===e?this.__private__.itemWidth=NaN:((0,T["default"])(e,"number",!1),this.__private__.itemWidth=e),this.setDirty(E["default"].SIZE))}},{key:"itemHeight",get:function(){var e=this.__private__.itemHeight,t=this.getProperty("itemHeight");return isNaN(e)?isNaN(t)?NaN:t:e},set:function(e){e!==this.itemHeight&&(null===e?this.__private__.itemHeight=NaN:((0,T["default"])(e,"number",!1),this.__private__.itemHeight=e),this.setDirty(E["default"].SIZE))}},{key:"autoResize",get:function(){var e=this.__private__.autoResize,t=this.getProperty("autoResize"),n=void 0;return n=null!==e&&void 0!==e?e:null!==t&&void 0!==t?t:!1,(0,T["default"])(n,"boolean",!1),n},set:function(e){e!==this.autoResize&&(this.__private__.autoResize=e,this.setDirty(E["default"].SIZE))}}]),t}(m["default"]);e.exports=N},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var i=(0,u["default"])(e),r=i.length;if(t){if(!(0,s["default"])(void 0===t.x||!isNaN(t.x),"X property must be a number."))return null;if(!(0,s["default"])(void 0===t.y||!isNaN(t.y),"Y property must be a number."))return null;if(!(0,s["default"])(void 0===t.z||!isNaN(t.z),"Z property must be a number."))return null;var a=t.units||"px";if(n){if(!(0,s["default"])(void 0===n.x||!isNaN(n.x),"X constraint must be a number."))return null;if(!(0,s["default"])(void 0===n.y||!isNaN(n.y),"Y constraint must be a number."))return null;if(!(0,s["default"])(void 0===n.z||!isNaN(n.z),"Z constraint must be a number."))return null}var o=n&&void 0!==n.x?Math.min(t.x,n.x):t.x,l=n&&void 0!==n.y?Math.min(t.y,n.y):t.y,d=n&&void 0!==n.z?Math.min(t.z,n.z):t.z,f=void 0!==t.x?"translateX("+o+a+")":null,c=void 0!==t.y?"translateY("+l+a+")":null,h=void 0!==t.z?"translateZ("+d+a+")":null,p="";f&&(p+=""===p?f:" "+f),c&&(p+=""===p?c:" "+c),h&&(p+=""===p?h:" "+h);for(var v=0;r>v;v++)i[v].style.transform=p;var m={};return f&&(m.x=o),c&&(m.y=l),h&&(m.z=d),m}for(var y=0;r>y;y++)i[y].style.transform="translateX(0) translateY(0) translateZ(0)";return{x:0,y:0,z:0}}var a=n(6),s=i(a),o=n(29),u=i(o);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var i=(0,u["default"])(e),r=i.length;if(t){if(!(0,s["default"])(void 0===t.width||!isNaN(t.width),"Width property must be a number."))return null;if(!(0,s["default"])(void 0===t.height||!isNaN(t.height),"Height property must be a number."))return null;if(!(0,s["default"])(void 0===t.aspectRatio||!isNaN(t.aspectRatio),"Aspect ratio property must be a number."))return null;var a=(0,d["default"])(e),o=t.units||"px",l=void 0!==t.aspectRatio?Number(t.aspectRatio):a.width/a.height,f=t.width,c=t.height,h=t.width,p=t.height,v=t.type||"default";n&&"default"!==v&&((0,s["default"])(void 0===n.width||!isNaN(n.width),"Width constraint must be a number."),(0,s["default"])(void 0===n.height||!isNaN(n.height),"Height constraint must be a number."),v&&"cover"===v?(void 0!==n.width&&(h=Math.min(n.width,h)),void 0!==n.width&&(p=Math.min(n.height,p))):(void 0!==n.width&&(f=Math.min(n.width,f)),void 0!==n.height&&(c=Math.min(n.height,c))));var m=void 0,y=void 0;"contain"===v?(m=f>c?c*l:f,y=f>c?c:f/l,m>f?(m=f,y=m/l):y>c&&(y=c,m=y*l)):"cover"===v?(m=h>p?p*l:h,y=h>p?p:h/l,h>m?(m=h,y=m/l):p>y&&(y=p,m=y*l)):(m=f,y=c);for(var E=0;r>E;E++){var g=i[E];void 0!==t.width&&(g.style.width=String(m)+o),void 0!==t.height&&(g.style.height=String(y)+o)}var b={};return void 0!==t.width&&(b.width=m),void 0!==t.height&&(b.height=y),b}for(var _=0;r>_;_++)i[_].style.width="initial",i[_].style.height="initial";return{width:"initial",height:"initial"}}var a=n(6),s=i(a),o=n(29),u=i(o),l=n(28),d=i(l);e.exports=r},function(e,t){"use strict";var n={PORTRAIT:0,LANDSCAPE:1,toString:function(e){switch(e){case n.PORTRAIT:return"PORTRAIT";case n.LANDSCAPE:return"LANDSCAPE";default:return"UNKNOWN"}}};e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=(0,u["default"])(e),i=(0,u["default"])(t);if(!(0,s["default"])(1===n.length,"Invalid parent specified. Parent must be a single Node or Element instance."))return!1;if(!(0,s["default"])(1===i.length,"Invalid child specified. Child must be a single Node or Element instance."))return!1;if(!(0,s["default"])(document,"Document not found. This method requires document to be valid."))return!1;var r=n[0],a=i[0];if(!a.parentNode)return!1;for(;null!==a&&void 0!==a&&a!==document;)if(a=a.parentNode,a===r)return!0;return!1}var a=n(6),s=i(a),o=n(29),u=i(o);e.exports=r},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"EventDispatcher",{value:n(38),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(6),o=i(s),u=n(5),l=i(u),d=n(21),f=i(d),c=function(){function e(){r(this,e),this.__define_properties()}return a(e,[{key:"addEventListener",value:function(e,t){(0,l["default"])(e,"string",!1,"Invalid parameter: type")&&(0,l["default"])(t,"function",!1,"Invalid parameter: listener")&&((0,f["default"])("[EventDispatcher]::addEventListener("+e+")"),this._listenerMap||Object.defineProperty(this,"_listenerMap",{value:{},writable:!0}),this._listenerMap[e]||(this._listenerMap[e]=[]),this._listenerMap[e].push(t))}},{key:"removeEventListener",value:function(e,t){if((0,l["default"])(e,"string",!1,"Invalid parameter: type")&&(0,l["default"])(t,"function",!0,"Invalid parameter: listener")&&(0,o["default"])(this._listenerMap,"Listener map is null.")&&(0,o["default"])(this._listenerMap[e],"There are no listeners registered for event type: "+e))if((0,f["default"])("[EventDispatcher]::removeEventListener("+e+")"),t){var n=this._listenerMap[e].indexOf(t);n>-1&&this._listenerMap[e].splice(n,1)}else delete this._listenerMap[e]}},{key:"hasEventListener",value:function(e,t){if((0,l["default"])(e,"string",!1,"Invalid parameter: type")&&(0,l["default"])(t,"function",!0,"Invalid parameter: listener")&&(0,o["default"])(this._listenerMap,"Listener map is null.")&&(0,o["default"])(this._listenerMap[e],"There are no listeners registered for event type: "+e)){if(t){var n=this._listenerMap[e].indexOf(t);return n>-1}return!0}}},{key:"dispatchEvent",value:function(e){if((0,l["default"])(e,Event,!1,"Event must be specified.")&&(0,o["default"])(this._listenerMap,"Listener map is null.")&&this._listenerMap[e.type]){(0,f["default"])("[EventDispatcher]::dispatchEvent("+e.type+")");for(var t=this._listenerMap[e.type].length,n=0;t>n;n++){var i=this._listenerMap[e.type][n];i.call(this,e)}}}},{key:"__define_properties",value:function(){}}]),e}();e.exports=c},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"AssetLoader",{value:n(40),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function T(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:T(r,t,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},d=n(6),f=i(d),c=n(41),h=(i(c),n(21)),p=i(h),v=n(38),m=i(v),y=n(25),E=i(y),g=["jpg","png","svg","jpeg","gif"],b=["mp4","mpeg","ogg","ogv","mov","avi","flv"],_=["mp3","mp4","mpeg","flac","wav","ogg"],O={IMAGE:{jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg"},VIDEO:{mp4:"video/mp4",mov:"video/quicktime",mpeg:"video/mpeg",ogg:"video/ogg",ogv:"video/ogg",avi:"video/avi",flv:"video/x-flv"},AUDIO:{mp3:"audio/mpeg",mpeg:"audio/mpeg",mp4:"audio/mp4",flac:"audio/flac",ogg:"audio/ogg",wav:"audio/vnd.wave"}},A=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).call(this))}return o(t,e),u(t,[{key:"init",value:function(){if(!(this.queue.length<1)){(0,p["default"])("[AssetLoader]::init()");var e=this.queue.length;this._xhrs=[],this._pending=e;for(var t=0;e>t;t++){var n=this.queue[t];(0,p["default"])("[AssetLoader]::Started loading: "+n.path);var i=this.getXHR({id:t,path:n.path,type:n.type});i.send(),this._xhrs.push(i)}}}},{key:"destroy",value:function(){if(this._xhrs){for(var e=this._xhrs.length,n=0;e>n;n++){var i=this._xhrs[n];i.abort(),this._xhrs[n]=null}this._queue=null,this._assets=null,this._bytesLoaded=null,this._bytesTotal=null}this._state=t.STATE.IDLE}},{key:"enqueue",value:function(){if((0,f["default"])(arguments&&arguments.length>0,"There are no arguments specified."),(0,f["default"])(this.state!==t.STATE.IN_PROGRESS,"Enqueueing is prohibited when the state is in progress."),arguments&&!(arguments.length<=0)&&this.state!==t.STATE.IN_PROGRESS){(0,p["default"])("[AssetLoader]::enqueue("+arguments+")");for(var e=arguments.length,n=0;e>n;n++){var i=arguments[n];(0,f["default"])("string"==typeof i||"object"===("undefined"==typeof i?"undefined":r(i)),'Each item to be enqueued must be a string of the target path or an object containing a "path" key and/or a "type" key'),(0,f["default"])("string"==typeof i||"string"==typeof i.path,"Invalid path specified: "+i.path+".");var a="string"==typeof i?i:i.path,s=i.type;if(!s){var o=a.split(".").pop().toLowerCase();if(g.indexOf(o)>-1)s=t.TYPE.IMAGE;else if(b.indexOf(o)>-1)s=t.TYPE.VIDEO;else{if(!(_.indexOf(o)>-1))throw"[AssetLoader]::Unsupported asset format: "+a;s=t.TYPE.AUDIO}}s&&(this.queue.push({path:a,type:s}),this._bytesLoaded||(this._bytesLoaded=[]),this._bytesTotal||(this._bytesTotal=[]),this._bytesLoaded.push(0),this._bytesTotal.push(0))}}}},{key:"dequeue",value:function(){if((0,f["default"])(arguments&&arguments.length>0,"There are no arguments specified."),(0,f["default"])(this.state!==t.STATE.IN_PROGRESS,"Dequeueing is prohibited when the state is in progress."),arguments&&!(arguments.length<=0)&&this.state!==t.STATE.IN_PROGRESS)for(var e=arguments.length,n=0;e>n;n++){var i=arguments[n];(0,f["default"])("string"==typeof i,"Expecting path to be a string.");for(var r=this.queue.length,a=0;r>a;a++){var s=this.queue[a];if(s.path===i){this.queue.splice(a,1),this.bytesLoaded.splice(a,1),this.bytesTotal.splice(a,1);break}}}}},{key:"getXHR",value:function(e){var t=e.path.split(".").pop().toLowerCase(),n=O[e.type.toUpperCase()][t];if(!n)throw"[AssetLoader]:: Unsupported asset format: "+e.path;var i=new XMLHttpRequest;return i.addEventListener("progress",this._onXHRProgress.bind(this),!1),i.addEventListener("load",this._onXHRLoadComplete.bind(this),!1),i.addEventListener("error",this._onXHRLoadError.bind(this),!1),i.addEventListener("abort",this._onXHRAbort.bind(this),!1),i.open("GET",e.path,this.async),i.overrideMimeType&&i.overrideMimeType(n),i.data=e,i}},{key:"_onXHRProgress",value:function(e){if(e.lengthComputable){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type,a=e.loaded,s=e.total;t.data.bytesLoaded=a,t.data.bytesTotal=s,this._bytesLoaded[n]=a,this._bytesTotal[n]=s,this._bytesLoaded||(this._bytesLoaded=[]),(0,p["default"])('[AssetLoader]::_onXHRProgress("'+i+'":'+a+"/"+s+")");var o=new CustomEvent(E["default"].OBJECT.PROGRESS,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(o)}}},{key:"_onXHRLoadComplete",value:function(e){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type;(0,p["default"])('[AssetLoader]::_onXHRLoadComplete("'+i+'"")'),this._pending--;var a=new CustomEvent(E["default"].OBJECT.LOAD,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(a)}},{key:"_onXHRLoadError",value:function(e){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type;(0,p["default"])('[AssetLoader]::_onXHRLoadError("'+i+'"")'),this._pending--;var a=new CustomEvent(E["default"].OBJECT.ERROR,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});if(this.dispatchEvent(a),0===this._pending){var s=new CustomEvent(E["default"].OBJECT.LOAD,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(s)}}},{key:"_onXHRAbort",value:function(e){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type;(0,p["default"])('[AssetLoader]::_onXHRLoadError("'+i+'"")'),this._pending--;var a=new CustomEvent(E["default"].OBJECT.ABORT,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});if(this.dispatchEvent(a),0===this._pending){var s=new CustomEvent(E["default"].OBJECT.LOAD,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(s)}}},{key:"__define_properties",value:function(){Object.defineProperty(this,"state",{get:function(){return this._state||Object.defineProperty(this,"_state",{value:t.STATE.IDLE,writable:!0}),this._state}}),Object.defineProperty(this,"queue",{get:function(){return this._queue||Object.defineProperty(this,"_queue",{value:[],writable:!0}),this._queue}}),Object.defineProperty(this,"assets",{get:function(){return this._assets||Object.defineProperty(this,"_assets",{value:{},writable:!0}),this._assets}}),Object.defineProperty(this,"async",{get:function(){return void 0===this._async?!0:this._async},set:function(e){(0,f["default"])(this.state!==t.STATE.IN_PROGRESS,"Cannot change the async mode while it is in progress."),this.state!==t.STATE.IN_PROGRESS&&Object.defineProperty(this,"_async",{value:e,writable:!0})}}),Object.defineProperty(this,"bytesLoaded",{get:function(){if(this._bytesLoaded){for(var e=0,t=this._bytesLoaded.length,n=0;t>n;n++)e+=this._bytesLoaded[n];return e}return 0}}),Object.defineProperty(this,"bytesTotal",{get:function(){if(this._bytesTotal){for(var e=0,t=this._bytesTotal.length,n=0;t>n;n++)e+=this._bytesTotal[n];return e}return 0}}),Object.defineProperty(this,"progress",{get:function(){if(!this._bytesTotal||!this._bytesLoaded)return 0;if(this._bytesTotal.length!==this._bytesLoaded.length)return 0;for(var e=this._bytesTotal.length,t=0,n=0;e>n;n++){var i=this._bytesLoaded[n],r=this._bytesTotal[n];r>0&&(t+=i/r)}return t/e}}),l(Object.getPrototypeOf(t.prototype),"__define_properties",this).call(this)}}]),t}(m["default"]);A.STATE={IDLE:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,ABORTED:4},A.TYPE={IMAGE:"image",VIDEO:"video",AUDIO:"audio"},e.exports=A},function(e,t,n){"use strict";function i(e,t){function n(){this.constructor=e}r(e,"class",!1,"Invalid parameter: childClass"),r(t,"class",!1,"Invalid parameter: parentClass");for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=Object.create(t.prototype),e.prototype=new n,e.__super__=t.prototype,e}var r=n(5);e.exports=i},function(e,t,n){
"use strict";var i={};Object.defineProperty(i,"Directive",{value:n(16),writable:!1,enumerable:!0}),Object.defineProperty(i,"DirtyType",{value:n(23),writable:!1,enumerable:!0}),Object.defineProperty(i,"EventType",{value:n(25),writable:!1,enumerable:!0}),Object.defineProperty(i,"KeyCode",{value:n(43),writable:!1,enumerable:!0}),Object.defineProperty(i,"NodeState",{value:n(24),writable:!1,enumerable:!0}),Object.defineProperty(i,"Orientation",{value:n(35),writable:!1,enumerable:!0}),Object.defineProperty(i,"ViewportSizeClass",{value:n(44),writable:!1,enumerable:!0}),e.exports=i},function(e,t){"use strict";var n={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_CMD:91,RIGHT_CMD:92,SELECT:93,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222,toString:function(e){switch(e){case n.BACKSPACE:return"BACKSPACE";case n.TAB:return"TAB";case n.ENTER:return"ENTER";case n.SHIFT:return"SHIFT";case n.CTRL:return"CTRL";case n.ALT:return"ALT";case n.PAUSE_BREAK:return"PAUSE_BREAK";case n.CAPS_LOCK:return"CAPS_LOCK";case n.ESCAPE:return"ESCAPE";case n.PAGE_UP:return"PAGE_UP";case n.PAGE_DOWN:return"PAGE_DOWN";case n.END:return"END";case n.HOME:return"HOME";case n.LEFT_ARROW:return"LEFT_ARROW";case n.UP_ARROW:return"UP_ARROW";case n.RIGHT_ARROW:return"RIGHT_ARROW";case n.DOWN_ARROW:return"DOWN_ARROW";case n.INSERT:return"INSERT";case n.DELETE:return"DELETE";case n.ZERO:return"ZERO";case n.ONE:return"ONE";case n.TWO:return"TWO";case n.THREE:return"THREE";case n.FOUR:return"FOUR";case n.FIVE:return"FIVE";case n.SIX:return"SIX";case n.SEVEN:return"SEVEN";case n.EIGHT:return"EIGHT";case n.NINE:return"NINE";case n.A:return"A";case n.B:return"B";case n.C:return"C";case n.D:return"D";case n.E:return"E";case n.F:return"F";case n.G:return"G";case n.H:return"H";case n.I:return"I";case n.J:return"J";case n.K:return"K";case n.L:return"L";case n.M:return"M";case n.N:return"N";case n.O:return"O";case n.P:return"P";case n.Q:return"Q";case n.R:return"R";case n.S:return"S";case n.T:return"T";case n.U:return"U";case n.V:return"V";case n.W:return"W";case n.X:return"X";case n.Y:return"Y";case n.Z:return"Z";case n.LEFT_CMD:return"LEFT_CMD";case n.RIGHT_CMD:return"RIGHT_CMD";case n.SELECT:return"SELECT";case n.NUMPAD_ZERO:return"NUMPAD_ZERO";case n.NUMPAD_ONE:return"NUMPAD_ONE";case n.NUMPAD_TWO:return"NUMPAD_TWO";case n.NUMPAD_THREE:return"NUMPAD_THREE";case n.NUMPAD_FOUR:return"NUMPAD_FOUR";case n.NUMPAD_FIVE:return"NUMPAD_FIVE";case n.NUMPAD_SIX:return"NUMPAD_SIX";case n.NUMPAD_SEVEN:return"NUMPAD_SEVEN";case n.NUMPAD_EIGHT:return"NUMPAD_EIGHT";case n.NUMPAD_NINE:return"NUMPAD_NINE";case n.MULTIPLY:return"MULTIPLY";case n.ADD:return"ADD";case n.SUBTRACT:return"SUBTRACT";case n.DECIMAL:return"DECIMAL";case n.DIVIDE:return"DIVIDE";case n.F1:return"F1";case n.F2:return"F2";case n.F3:return"F3";case n.F4:return"F4";case n.F5:return"F5";case n.F6:return"F6";case n.F7:return"F7";case n.F8:return"F8";case n.F9:return"F9";case n.F10:return"F10";case n.F11:return"F11";case n.F12:return"F12";case n.NUM_LOCK:return"NUM_LOCK";case n.SCROLL_LOCK:return"SCROLL_LOCK";case n.SEMI_COLON:return"SEMI_COLON";case n.EQUAL:return"EQUAL";case n.COMMA:return"COMMA";case n.DASH:return"DASH";case n.PERIOD:return"PERIOD";case n.FORWARD_SLASH:return"FORWARD_SLASH";case n.GRAVE_ACCENT:return"GRAVE_ACCENT";case n.OPEN_BRACKET:return"OPEN_BRACKET";case n.BACK_SLASH:return"BACK_SLASH";case n.CLOSE_BRACKET:return"CLOSE_BRACKET";case n.SINGLE_QUOTE:return"SINGLE_QUOTE";default:return"UNKNOWN"}}};e.exports=n},function(e,t,n){"use strict";var i={MOBILE:{id:0,min:0,max:599},PHABLET:{id:1,min:600,max:767},TABLET:{id:2,min:768,max:1024},DESKTOP:{id:3,min:1025,max:1e5},get:function(e){"boolean"!=typeof e&&(e=!1);var t=n(30)(),r=e?Math.max(t.width,t.height):Math.min(t.width,t.height);return r>=i.MOBILE.min&&r<=i.MOBILE.max?i.MOBILE:r>=i.PHABLET.min&&r<=i.PHABLET.max?i.PHABLET:r>=i.TABLET.min&&r<=i.TABLET.max?i.TABLET:r>=i.DESKTOP.min&&r<=i.DESKTOP.max?i.DESKTOP:null}};e.exports=i},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"Element",{value:n(19),writable:!1,enumerable:!0}),Object.defineProperty(i,"ElementUpdateDelegate",{value:n(26),writable:!1,enumerable:!0}),Object.defineProperty(i,"Video",{value:n(31),writable:!1,enumerable:!0}),Object.defineProperty(i,"Grid",{value:n(32),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"addClass",{value:n(47),writable:!1,enumerable:!0}),Object.defineProperty(i,"changeElementState",{value:n(50),writable:!1,enumerable:!0}),Object.defineProperty(i,"hasClass",{value:n(48),writable:!1,enumerable:!0}),Object.defineProperty(i,"hasChild",{value:n(36),writable:!1,enumerable:!0}),Object.defineProperty(i,"getClassIndex",{value:n(49),writable:!1,enumerable:!0}),Object.defineProperty(i,"getElementState",{value:n(51),writable:!1,enumerable:!0}),Object.defineProperty(i,"getIntersectRect",{value:n(52),writable:!1,enumerable:!0}),Object.defineProperty(i,"getRect",{value:n(28),writable:!1,enumerable:!0}),Object.defineProperty(i,"getViewportRect",{value:n(30),writable:!1,enumerable:!0}),Object.defineProperty(i,"hitTestElement",{value:n(53),writable:!1,enumerable:!0}),Object.defineProperty(i,"hitTestRect",{value:n(54),writable:!1,enumerable:!0}),Object.defineProperty(i,"removeClass",{value:n(55),writable:!1,enumerable:!0}),Object.defineProperty(i,"translate",{value:n(56),writable:!1,enumerable:!0}),Object.defineProperty(i,"translate3d",{value:n(33),writable:!1,enumerable:!0}),Object.defineProperty(i,"transform",{value:n(34),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=(0,u["default"])(e),i=[],r=n.length;if((0,s["default"])("string"==typeof t||t instanceof Array,"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof t?i.push(t):i=t;for(var a=i.length,o=0;r>o;o++)for(var l=n[o],f=0;a>f;f++){var c=i[f];(0,s["default"])("string"==typeof c,"Invalid class detected: "+c)&&((0,d["default"])(l,c)||(l.className=l.className+(""===l.className?"":" ")+c))}}}var a=n(6),s=i(a),o=n(29),u=i(o),l=n(48),d=i(l);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(0,s["default"])(t&&"string"==typeof t,"Invalid class name: "+t))return!1;for(var n=(0,u["default"])(e),i=n.length,r=0;i>r;r++){var a=n[r];if((0,d["default"])(a,t)<0)return!1}return!0}var a=n(6),s=i(a),o=n(29),u=i(o),l=n(49),d=i(l);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(0,s["default"])(e&&(e instanceof Node||e instanceof u["default"]),"Invalid element specified. Element must be an instance of Node or Element."))return null;if(e instanceof u["default"]&&(e=e.element),!(0,s["default"])(t&&"string"==typeof t,"Invalid class name: "+t))return-1;var n=e.className.split(" ");return n.indexOf(t)}var a=n(6),s=i(a),o=n(19),u=i(o);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=(0,s["default"])(e,!0);if(n)for(var i=n.length,r=0;i>r;r++){var a=n[r];(0,u["default"])(a)!==t&&(a instanceof c["default"]?a.state=t:a.setAttribute(d["default"].STATE,t))}}var a=n(29),s=i(a),o=n(51),u=i(o),l=n(16),d=i(l),f=n(19),c=i(f);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!(0,s["default"])(e&&(e instanceof Node||e instanceof d["default"]),"Invalid element specified."))return null;var t=void 0;return t=e instanceof d["default"]?e.state:e.getAttribute(u["default"].STATE),t&&""!==t?t:null}var a=n(6),s=i(a),o=n(16),u=i(o),l=n(19),d=i(l);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(!(0,s["default"])(window,"This method relies on the window object, which is undefined."))return null;var t=arguments.length;if(!(0,s["default"])(t>0,"This method requires at least 1 argument specified."))return null;for(var n={},i=void 0,r=void 0,a=0;t>a;a++){if(i||(i=(0,u["default"])(arguments[a])),!(0,s["default"])(i,"Invalid computed rect."))return null;if(0===a&&a+1===t)r=(0,u["default"])(window);else{if(!(t>a+1))break;r=(0,u["default"])(arguments[a+1])}if(!(0,s["default"])(r,"Invalid computed rect."))return null;n.width=Math.max(0,Math.min(i.right,r.right)-Math.max(i.left,r.left)),n.height=Math.max(0,Math.min(i.bottom,r.bottom)-Math.max(i.top,r.top)),n.top=Math.max(i.top,r.top),n.left=Math.max(i.left,r.left),n.bottom=n.top+n.height,n.right=n.left+n.width,n.width*n.height===0&&(n.width=0,n.height=0,n.top=0,n.left=0,n.bottom=0,n.right=0),i=n}return n}var a=n(6),s=i(a),o=n(28),u=i(o);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t){if(!(0,o["default"])(arguments.length>1,"Insufficient arguments. Expecting at least 2."))return!1;var n=Array.prototype.slice.call(arguments),i="object"===r(n[0])&&n[0].hasOwnProperty("x")&&n[0].hasOwnProperty("y");if(i){for(var a=n.shift(),s=n.length,u=!1,d=0;s>d;d++){var c=(0,f["default"])(n[d]),h=a.x>=c.left&&a.x<=c.right,p=a.y>=c.top&&a.x<=c.bottom;h&&p&&(u=!0)}return u}var v=l["default"].apply(null,arguments);return(0,o["default"])(v,"Invalid elements specified.")?v.width*v.height!==0:!1}var s=n(6),o=i(s),u=n(52),l=i(u),d=n(28),f=i(d);e.exports=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t){if(!(0,o["default"])(arguments.length>1,"Insufficient arguments. Expecting at least 2."))return!1;var n=Array.prototype.slice.call(arguments),i="object"===r(n[0])&&n[0].hasOwnProperty("x")&&n[0].hasOwnProperty("y");if(i){for(var a=n.shift(),s=n.length,u=!1,d=0;s>d;d++){var f=n[d];if(!(0,o["default"])(!(void 0===f.top||isNaN(f.top)||void 0===f.right||isNaN(f.right)||void 0===f.bottom||isNaN(f.bottom)||void 0===f.left||isNaN(f.left)),'Invalid rect supplied. Rect must be an object containing "top", "right", "bottom", and "left" key values.'))return!1;var c=a.x>=f.left&&a.x<=f.right,h=a.y>=f.top&&a.x<=f.bottom;c&&h&&(u=!0)}return u}var p=l["default"].apply(null,arguments);return(0,o["default"])(p,"Invalid elements specified.")?p.width*p.height!==0:!1}var s=n(6),o=i(s),u=n(52),l=i(u);e.exports=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=(0,u["default"])(e),i=[],r=n.length;if((0,s["default"])("string"==typeof t||t instanceof Array,"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof t?i.push(t):i=t;for(var a=i.length,o=0;r>o;o++){for(var l=n[o],d=0;a>d;d++){var f=i[d];if((0,s["default"])("string"==typeof f,"Invalid class detected: "+f)){var c=new RegExp("^"+f+"\\s+|\\s+"+f+"|^"+f+"$","g");l.className=l.className.replace(c,"")}}""===l.className&&l.removeAttribute("class")}}}var a=n(6),s=i(a),o=n(29),u=i(o);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var i=(0,u["default"])(e),r=i.length;if(t){if(!(0,s["default"])(void 0===t.top||!isNaN(t.top),"Top property must be a number."))return null;if(!(0,s["default"])(void 0===t.right||!isNaN(t.right),"Right property must be a number."))return null;if(!(0,s["default"])(void 0===t.bottom||!isNaN(t.bottom),"Bottom property must be a number."))return null;if(!(0,s["default"])(void 0===t.left||!isNaN(t.left),"Left property must be a number."))return null;var a=t.units||"px";if(n){if(!(0,s["default"])(void 0===n.top||!isNaN(n.top),"Top constraint must be a number."))return null;if(!(0,s["default"])(void 0===n.right||!isNaN(n.right),"Right constraint must be a number."))return null;if(!(0,s["default"])(void 0===n.bottom||!isNaN(n.bottom),"Bottom constraint must be a number."))return null;if(!(0,s["default"])(void 0===n.left||!isNaN(n.left),"Left constraint must be a number."))return null}for(var o=n&&void 0!==n.top?Math.min(t.top,n.top):t.top,l=n&&void 0!==n.right?Math.min(t.right,n.right):t.right,d=n&&void 0!==n.bottom?Math.min(t.bottom,n.bottom):t.bottom,f=n&&void 0!==n.left?Math.min(t.left,n.left):t.left,c=0;r>c;c++)void 0!==t.top&&(i[c].style.top=String(o)+a),void 0!==t.right&&(i[c].style.right=String(l)+a),void 0!==t.bottom&&(i[c].style.bottom=String(d)+a),void 0!==t.left&&(i[c].style.left=String(f)+a);var h={};return void 0!==t.top&&(h.top=o),void 0!==t.right&&(h.right=l),void 0!==t.bottom&&(h.bottom=d),void 0!==t.left&&(h.left=f),h}for(var p=0;r>p;p++)i[p].style.top="initial",i[p].style.right="initial",i[p].style.bottom="initial",i[p].style.left="initial";return{top:"initial",right:"initial",bottom:"initial",left:"initial"}}var a=n(6),s=i(a),o=n(29),u=i(o);e.exports=r}])});