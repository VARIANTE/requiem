!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.requiem=t():e.requiem=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){/*!
	 * Requiem
	 * (c) VARIANTE (http://variante.io)
	 *
	 * This software is released under the MIT License:
	 * http://www.opensource.org/licenses/mit-license.php
	 */
"use strict";var i=n(1),r=n(2),s={};Object.defineProperty(s,"name",{value:"Requiem",writable:!1}),Object.defineProperty(s,"version",{value:"0.18.0",writable:!1}),i(s,"dom",n(3)),i(s,"events",n(28)),i(s,"net",n(30)),i(s,"types",n(32)),i(s,"ui",n(34)),i(s,"utils",n(35)),r(),e.exports=s},function(e,t){"use strict";function n(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1});for(var i in n)n.hasOwnProperty(i)&&Object.defineProperty(e,i,{value:n[i],writable:!1})}e.exports=n},function(e,t){"use strict";function n(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}e.exports=n},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"namespace",{value:n(4),writable:!1,enumerable:!0}),Object.defineProperty(i,"ready",{value:n(8),writable:!1,enumerable:!0}),Object.defineProperty(i,"sightread",{value:n(9),writable:!1,enumerable:!0}),Object.defineProperty(i,"createElement",{value:n(27),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e,t){if(r(e,"string",!0,"Invalid parameter: path"),r(t,"object",!0,"Invalid optional parameter: scope"),t||(t=window?window:{}),void 0===e||""===e)return t;for(var n=e.split("."),i=t,s=0;s<n.length;s++)i=i[n[s]]||(i[n[s]]={});return i}var r=n(5);e.exports=i},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t,n,r){if(s(void 0!==t,"Paremeter 'type' must be a string or a class")&&s(void 0===n||"boolean"==typeof n,"Paremeter 'allowUndefined', if specified, must be a boolean")&&s(void 0===r||"string"==typeof r,"Parameter 'message', if specified, must be a string")){n=void 0===n?!1:n;var a=!1;if(n&&void 0===e)a=!0;else if(i(t,Array)){for(var l=t.length,u=0;l>u;u++)if(o(e,t[u])){a=!0;break}}else a=o(e,t);if(!a)throw new Error(r||"AssertType failed");return a}}var s=n(6),o=n(7);e.exports=r},function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assert failed");return e}e.exports=n},function(e,t){"use strict";function n(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){if("string"!=typeof t)return n(e,t);switch(t){case"string":case"object":case"number":case"boolean":case"function":return("undefined"==typeof e?"undefined":i(e))===t;case"class":return"function"==typeof e;case"array":return n(e,Array);default:return!1}}e.exports=r},function(e,t,n){"use strict";function i(e){if(r(e,"function",!1,"Invalid parameter: callback"),!document)return null;var t=function n(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):document.attachEvent&&(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n)),setTimeout(e,1)};return"complete"===document.readyState?setTimeout(e,1):(document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t)),null)}var r=n(5);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function s(){var e=document,t=window;if(1===arguments.length){var n=arguments[0];r(n,HTMLElement)?e=n:"object"===("undefined"==typeof n?"undefined":i(n))&&(t=n)}else if(2===arguments.length){var s=arguments[0],a=arguments[1];s&&(e=s),a&&(t=a)}if(e===document)return o(e,t);var l=d(e),c=h(e,t);return u(c,"function",!1,"Class '"+p(e)+"' is not found in specified controller scope: "+t),new c({element:e,name:l,children:o(e,t)})}function o(e,t){var i=n(14),s=null;if(e||(e=document),e.jquery&&(e=e.get(0)),!l(r(e,HTMLElement)||r(e,i)||document&&e===document,"Element must be an instance of an HTMLElement or the DOM itself."))return null;r(e,i)&&(e=e.element);for(var f=e.querySelectorAll("["+c.CONTROLLER+"], [data-"+c.CONTROLLER+"], ["+c.INSTANCE+"], [data-"+c.INSTANCE+"]"),m=a(f),v=m.length,y=0;v>y;y++){var b=m[y],E=d(b),g=h(b,t);u(g,"function",!1,"Class '"+p(b)+"' is not found in specified controller scope: "+t);var O=new g({element:b,name:E,children:o(b,t)});if(E&&E.length>0)if(s||(s={}),s[E])if(r(s[E],Array))s[E].push(O);else{var T=[s[E]];T.push(O),s[E]=T}else s[E]=O}return s}function a(e){for(var t=e.length,n=[],i=0;t>i;i++){for(var r=!0,s=e[i],o=0;t>o;o++)if(i!==o){var a=e[o];if(f(a,s)){r=!1;break}}r&&n.push(s)}return n}var l=n(6),u=n(5),d=n(10),h=n(12),p=n(13),c=n(11),f=n(25);e.exports=s},function(e,t,n){"use strict";function i(e){return e.getAttribute(r.INSTANCE)||e.getAttribute("data-"+r.INSTANCE)}var r=n(11);e.exports=i},function(e,t){"use strict";var n={CONTROLLER:"r-controller",INSTANCE:"r-instance",STATE:"r-state",PROPERTY:"r"};e.exports=n},function(e,t,n){"use strict";function i(e,t){var i=r(e),a=s(e),l=i?o(i,t):void 0;if(!l&&a&&a.length>0)l=n(14);else if("function"!=typeof l)switch(i){case"Video":l=n(23);break;case"Element":l=n(14);break;default:l=null}return l}var r=n(13),s=n(10),o=n(4);e.exports=i},function(e,t,n){"use strict";function i(e){return e.getAttribute(r.CONTROLLER)||e.getAttribute("data-"+r.CONTROLLER)}var r=n(11);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function s(e){if(this._nodeState=c.IDLE,this.__define_properties(),void 0!==e)if(r(e,HTMLElement))this.element=e;else if("string"==typeof e)this.name=e;else if("object"===("undefined"==typeof e?"undefined":i(e)))for(var t in e)if(this.hasOwnProperty(t))if("children"===t){var n=e.children;for(var o in n)this.addChild(n[o],o)}else this[t]=e[t];for(var a=this.element.attributes,l=a.length,h=new RegExp("^"+m.PROPERTY+"-|^data-"+m.PROPERTY+"-","i"),f=0;l>f;f++){var v=a[f];if(d(v.name)&&h.test(v.name)){var y=v.name.replace(h,"").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});s.defineProperty(this,y,{defaultValue:""===v.value?!0:v.value,attribute:v.name,dirtyType:p.DATA,get:!0,set:!0},"properties")}}u(this.toString()+":new(",e,")"),this.init()}var o=n(6),a=n(5),l=n(15),u=n(16),d=n(17),h=n(10),p=n(18),c=n(19),f=n(20),m=n(11),v=n(21),y=n(9);s.defineProperty=function(e,t,n,i){a(e,s,!1,"Parameter 'element' must be an Element instance"),a(n,"object",!1,"Parameter 'descriptor' must be an object literal"),a(n.configurable,"boolean",!0,"Optional configurable key in descriptor must be a boolean"),a(n.enumerable,"boolean",!0,"Optional enumerable key in descriptor must be a boolean"),a(n.writable,"boolean",!0,"Optional writable key in descriptor must be a boolean"),a(n.unique,"boolean",!0,"Optional unique key in descriptor must be a boolean"),a(n.dirtyType,"number",!0,"Optional dirty type must be of DirtyType enum (number)"),a(n.eventType,"string",!0,"Optional event type must be a string"),a(n.attribute,"string",!0,"Optional attribute must be a string"),a(n.onChange,"function",!0,"Optional change handler must be a function"),a(i,"string",!0,"Optional parameter 'scope' must be a string"),o(d(n.attribute),"Attribute '"+n.attribute+"' is reserved");var r=n.dirtyType,l=n.defaultValue,u=n.attribute,h=n.eventType,p=n.unique;void 0===p&&(p=!0),void 0===i?i=e:(o(e.hasOwnProperty(i),"The specified Element instance does not have a property called '"+i+"'"),i=e[i]),void 0!==l&&Object.defineProperty(i,"__"+t,{value:l,writable:!0});var c={};void 0!==n.configurable&&(c.configurable=n.configurable),void 0!==n.enumerable&&(c.enumerable=n.enumerable),void 0!==n.value&&(c.value=n.value),void 0!==n.writable&&(c.writable=n.writable),n.get&&(c.get=function(){return"function"==typeof n.get?n.get(this["__"+t]):this["__"+t]}.bind(i)),n.set&&(c.set=function(i){var s=this["__"+t];if((!p||s!==i)&&("function"==typeof n.set&&(i=n.set(i)),void 0===s?Object.defineProperty(this,"__"+t,{value:i,writable:!0}):this["__"+t]=i,void 0!==n.onChange&&n.onChange(s,i),void 0!==u&&e.setAttribute(u,i),void 0!==r&&e.setDirty(r),void 0!==h)){var o=new CustomEvent(h,{detail:{property:t,oldValue:s,newValue:i}});e.dispatchEvent(o)}}.bind(i)),Object.defineProperty(i,t,c),void 0!==l&&void 0!==u&&e.setAttribute(u,l)},s.addEventListener=function(){var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3]||!1;a(e,s,!0),l(e)||e.addEventListener(t,n,i)},s.removeEventListener=function(){var e=arguments[0],t=arguments[1],n=arguments[2],i=arguments[3]||!1;a(e,s,!0),l(e)||e.removeEventListener(t,n,i)},s.prototype.init=function(){u(this.toString()+"::init()"),this._nodeState=c.INITIALIZED,this.updateDelegate.init();for(var e in this.children){var t=this.children[e];if(r(t,Array))for(var n=t.length,i=0;n>i;i++){var s=t[i];(s.nodeState===c.IDLE||s.nodeState===c.DESTROYED)&&s.init()}else(t.nodeState===c.IDLE||t.nodeState===c.DESTROYED)&&t.init()}},s.prototype.destroy=function(){u(this.toString()+"::destroy()");for(var e in this.children){var t=this.children[e];if(r(t,Array))for(var n=t.length,i=0;n>i;i++){var s=t[i];s.nodeState!==c.DESTROYED&&s.destroy()}else t.nodeState!==c.DESTROYED&&t.destroy()}this.removeAllEventListeners(),this.updateDelegate.destroy(),this._nodeState=c.DESTROYED},s.prototype.update=function(){u(this.toString()+"::update()"),this._nodeState=c.UPDATED},s.prototype.respondsTo=function(){var e=Array.prototype.slice.call(arguments),t=e.length;o(t>0,"Too few arguments")&&o(this.nodeState===c.IDLE,"Responsiveness must be defined when the node state of this element is IDLE")&&(isNaN(e[0])?(this.updateDelegate.conductor=e.shift(),this.updateDelegate.refreshRate=e.shift()):this.updateDelegate.refreshRate=e.shift(),0===e.length?this.updateDelegate.responsive=!0:this.updateDelegate.responsive=e)},s.prototype.addChild=function(e,t,n){if(!o(void 0!==e,"Parameter 'child' must be specified"))return null;if(!a(n,"object",!0,"Parameter 'controllerDict' is invalid"))return null;if(n||(n=window),e.jquery)return this.addChild(e.get(),t);if(r(e,Array)){for(var i=e.length,u=[],d=0;i>d;d++){var p=e[d];u.push(this.addChild(p,t))}return u}if(!a(e,[HTMLElement,s],!1,"Invalid child specified. Child must be an instance of HTMLElement or Requiem Element."))return null;if(r(e,HTMLElement)){if(l(t)&&(t=h(e)),!o(!l(t),"Either child name was unprovided or it cannot be deducted from the specified child"))return null;e.removeAttribute(m.INSTANCE),e.removeAttribute("data-"+m.INSTANCE),e.setAttribute("data-"+m.INSTANCE,t),e=y(e,n)}else{if(l(t)&&(t=e.name),!o(!l(t),"Either child name was unprovided or it cannot be deducted from the specified child"))return null;e.name=t}if(this.children[t])if(r(this.children[t],Array))this.children[t].push(e);else{var f=[this.children[t]];f.push(e),this.children[t]=f}else this.children[t]=e;(e.nodeState===c.IDLE||e.nodeState===c.DESTROYED)&&e.init();var v=!0;if(e.element.parentNode&&document)for(var b=e.element;null!==b&&void 0!==b&&b!==document;)if(b=b.parentNode,b===this.element){v=!1;break}return v&&this.element.appendChild(e.element),e},s.prototype.hasChild=function(e){if(!o(void 0!==e,"Child is undefined"))return!1;if("string"==typeof e)return!l(this.getChild(e));var t=void 0;for(t=e.jquery&&1===e.length?e.get(0):r(e,s)?e.element:e;!l(t)&&t!==document;)if(t=t.parentNode,t===this.element)return!0;return!1},s.prototype.removeChild=function(e){if(o(!l(e,!0),"No valid child specified"))if("string"==typeof e)this.removeChild(this.getChild(e));else if(r(e,Array)||e.jquery&&e.length>1)for(;e.length>0;)this.removeChild(e[0]);else if(this.hasChild(e)){var t=void 0,n=[];if(e.jquery&&1===e.length?t=e.get(0):r(e,s)?t=e.element:r(e,HTMLElement)&&(t=e),l(t))return null;for(var i in this.children){var a=this.children[i];if(r(a,Array)){for(var u=a.length,d=0,h=0;u>h;h++){var p=a[h];if(d=h,p.element===t){n.push(p),p.destroy(),t.parentNode.removeChild(t);break}}a.splice(d,1),0===a.length&&delete this.children[i]}else r(a,s)&&(a.element===t?(n.push(a),a.destroy(),t.parentNode.removeChild(t),delete this.children[i]):n.push(a.removeChild(e)))}return 0===n.length?null:1===n.length?n[0]:n}},s.prototype.getChild=function(e,t){if(!a(e,"string",!1,"Child name must be specified"))return null;if(!a(t,"boolean",!0,"Parameter 'recursive', if specified, must be a boolean"))return null;t=void 0===t?!0:t;var n=e.split("."),i=n.shift(),o=this.children[i];if(t&&n.length>0){if(r(o,Array)){for(var u=[],d=o.length,h=0;d>h;h++){var p=o[h];r(p,s)?u.push(p.getChild(n.join("."))):u.push(null)}return l(u,!0)?null:u}return r(o,s)?o.getChild(n.join(".")):null}return l(o,!0)?null:o},s.prototype.addEventListener=function(){var e=this,t=arguments[0],n=arguments[1],i=arguments[2]||!1;if(this.cachesListeners){this._listenerMap||Object.defineProperty(this,"_listenerMap",{value:{},writable:!1}),this._listenerMap[t]||(this._listenerMap[t]=[]);var r=this._listenerMap[t],s=r.length,o=!0;t===f.MOUSE.CLICK_OUTSIDE&&!function(){var t=n;n=function(e){e.target===this.element||this.hasChild(e.target)||t(e)}.bind(e)}();for(var a=0;s>a;a++){var l=r[a];if(l.listener===n){o=!1;break}}o&&r.push({listener:n,useCapture:i})}window&&t===f.MOUSE.CLICK_OUTSIDE?window.addEventListener(f.MOUSE.CLICK,n,i):this.element.addEventListener.apply(this.element,arguments)},s.prototype.hasEventListener=function(e,t){if(!this._listenerMap)return!1;if(!this._listenerMap[e])return!1;if(t){for(var n=this._listenerMap[e],i=n.length,r=0;i>r;r++){var s=n[r];if(s.listener===t)return!0}return!1}return!0},s.prototype.removeEventListener=function(){var e=arguments[0],t=arguments[1],n=arguments[2]||!1;if(this._listenerMap){var i=this._listenerMap[e],r=i.length,s=-1;if(t){for(var o=0;r>o;o++){var a=i[o];if(a.listener===t){s=o;break}}s>-1&&(i.splice(s,1),0===i.length&&(this._listenerMap[e]=null,delete this._listenerMap[e]))}else for(;void 0!==this._listenerMap[e];)this.removeEventListener(e,this._listenerMap[e][0].listener,this._listenerMap[e][0].useCapture)}t&&(window&&e===f.MOUSE.CLICK_OUTSIDE?window.removeEventListener(f.MOUSE.CLICK,t,n):this.element.removeEventListener.apply(this.element,arguments))},s.prototype.removeAllEventListeners=function(){if(this._listenerMap)for(var e in this._listenerMap)this.removeEventListener(e)},s.prototype.dispatchEvent=function(e){this.element.dispatchEvent(e)},s.prototype.addClass=function(e){var t=[];if(o("string"==typeof e||r(e,Array),"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof e?t.push(e):t=e;for(var n=t.length,i=0;n>i;i++){var s=t[i];o("string"==typeof s,"Invalid class detected: "+s)&&(this.hasClass(s)||(this.element.className=this.element.className+(""===this.element.className?"":" ")+s))}}},s.prototype.removeClass=function(e){var t=[];if(o("string"==typeof e||r(e,Array),"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof e?t.push(e):t=e;for(var n=t.length,i=0;n>i;i++){var s=t[i];if(o("string"==typeof s,"Invalid class detected: "+s)){var a=new RegExp("^"+s+"\\s+|\\s+"+s+"|^"+s+"$","g");this.element.className=this.element.className.replace(a,"")}}}},s.prototype.hasClass=function(e){return o("string"==typeof e,"Invalid class detected: "+e)?this.classes.indexOf(e)>-1:!1},s.prototype.getProperty=function(e){return this.properties[e]},s.prototype.hasProperty=function(e){return this.properties.hasOwnProperty(e)},s.prototype.setProperty=function(e,t){this.hasProperty(e)?this.properties[e]=t:s.defineProperty(this,e,{defaultValue:""===t?!0:t,attribute:"data-"+m.PROPERTY+"-"+e,dirtyType:p.DATA,get:!0,set:!0},"properties")},s.prototype.getAttribute=function(e){var t=this.element.getAttribute(e);return""===t?!0:void 0===t||null===t?null:t},s.prototype.setAttribute=function(e,t){o(d(e),"Attribute '"+e+"' is reserved")&&(void 0===t||null===t||t===!1?this.element.removeAttribute(e):this.element.setAttribute(e,t),"disabled"===e&&this.setDirty(p.STATE))},s.prototype.removeAttribute=function(e){this.element.removeAttribute(e)},s.prototype.hasAttribute=function(e){return!l(this.element.getAttribute(e))},s.prototype.getStyle=function(e){var t=this.element.style[e];return""===t?null:t},s.prototype.setStyle=function(e,t){"number"==typeof t&&(t+="px"),this.element.style[e]=t},s.prototype.removeStyle=function(e){this.element.style[e]=""},s.prototype.hasStyle=function(e){return""!==this.element.style[e]},s.prototype.factory=function(){return document.createElement("div")},s.prototype.isDirty=function(){return this.updateDelegate.isDirty.apply(this.updateDelegate,arguments)},s.prototype.setDirty=function(){return this.updateDelegate.setDirty.apply(this.updateDelegate,arguments)},s.prototype.toString=function(){return"[Element{"+this.name+"}]"},s.prototype.__define_properties=function(){Object.defineProperty(this,"element",{get:function(){return this._element||Object.defineProperty(this,"_element",{value:this.factory(),writable:!0}),this._element},set:function(e){this.__set_element(e)}}),Object.defineProperty(this,"id",{get:function(){return this.element.id},set:function(e){this.element.setAttribute("id",e)}}),Object.defineProperty(this,"name",{get:function(){var e=this.element.getAttribute(m.INSTANCE)||this.element.getAttribute("data-"+m.INSTANCE);return e&&""!==e?e:null},set:function(e){e&&""!==e&&(this.name||this.element.setAttribute("data-"+m.INSTANCE,e))}}),Object.defineProperty(this,"classes",{get:function(){return this.element.className.split(" ")},set:function(e){this.element.className=e.join(" ")}}),Object.defineProperty(this,"attributes",{get:function(){return this.element.attributes}}),Object.defineProperty(this,"styles",{get:function(){return this.element.style}}),Object.defineProperty(this,"nodeState",{get:function(){return this._nodeState||c.IDLE}}),Object.defineProperty(this,"state",{get:function(){var e=this.element.getAttribute(m.STATE)||this.element.getAttribute("data-"+m.STATE);return e&&""!==e?e:null},set:function(e){this.state!==e&&(null===e||void 0===e?(this.element.removeAttribute(m.STATE),this.element.removeAttribute("data-"+m.STATE)):this.element.setAttribute("data-"+m.STATE,e),this.updateDelegate.setDirty(p.STATE))}}),Object.defineProperty(this,"children",{value:{},writable:!1}),s.defineProperty(this,"data",{defaultValue:null,get:!0,set:!0,dirtyType:p.DATA,eventType:f.DATA.DATA_CHANGE}),Object.defineProperty(this,"properties",{value:{},writable:!1}),Object.defineProperty(this,"updateDelegate",{get:function(){return this._updateDelegate||Object.defineProperty(this,"_updateDelegate",{value:new v(this),writable:!1}),this._updateDelegate}}),Object.defineProperty(this,"cachesListeners",{value:!0,writable:!0}),Object.defineProperty(this,"content",{get:function(){return this.element.innerHTML},set:function(e){this.element.innerHTML=e}}),s.defineProperty(this,"hidden",{get:!0,set:function(e){return a(e,"boolean",!1),e?this.setStyle("display","none"):"none"===this.getStyle("display")&&this.removeStyle("display"),e}.bind(this)}),s.defineProperty(this,"invisible",{get:!0,set:function(e){return a(e,"boolean",!1),e?this.setStyle("visibility","hidden"):"hidden"===this.getStyle("visibility")&&this.removeStyle("visibility"),e}.bind(this)}),Object.defineProperty(this,"disabled",{get:function(){return this.hasAttribute("disabled")?this.getAttribute("disabled"):!1}.bind(this),set:function(e){a(e,"boolean",!1),this.setAttribute("disabled",e)}.bind(this)})},s.prototype.__set_element=function(e){o(!this._element,"Element cannot be overwritten."),o(r(e,HTMLElement)||r(e,s),"Invalid element type specified. Must be an instance of HTMLElement or Element."),r(e,s)?Object.defineProperty(this,"_element",{value:e.element,writable:!0}):Object.defineProperty(this,"_element",{value:e,writable:!0})},e.exports=s},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function s(e,t){if(o(t,"boolean",!0,"Invalid parameter: recursive"),void 0===t&&(t=!1),void 0===e||null===e)return!0;if("string"==typeof e)return""===e?!0:!1;if(t&&r(e,Array)){for(var n=e.length,a=0;n>a;a++)if(!s(e[a],!0))return!1;return!0}if(t&&"object"===("undefined"==typeof e?"undefined":i(e))){for(var l in e)if(!s(e[l],!0))return!1;return!0}return!1}var o=n(5);e.exports=s},function(e,t){"use strict";function n(e){window&&window.VARS_DEBUG&&window.console&&console.log&&Function.apply.call(console.log,console,arguments)}e.exports=n},function(e,t,n){"use strict";function i(e){for(var t in r){if(e===t)return!1;if(e==="data-"+t)return!1}return!0}var r=n(11);e.exports=i},function(e,t){"use strict";var n={NONE:0,POSITION:1,SIZE:2,LAYOUT:4,STATE:8,DATA:16,LOCALE:32,DEPTH:64,CONFIG:128,STYLE:256,INPUT:512,ORIENTATION:1024,CUSTOM:2048,ALL:4294967295};e.exports=n},function(e,t){"use strict";var n={IDLE:0,INITIALIZED:1,UPDATED:2,DESTROYED:3};e.exports=n},function(e,t){"use strict";var n={DATA:{DATA_CHANGE:"datachange"},MOUSE:{CLICK:"click",CONTEXT_MENU:"contextmenu",CLICK_OUTSIDE:"clickoutside",DOUBLE_CLICK:"dblclick",MOUSE_DOWN:"mousedown",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_MOVE:"mousemove",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",MOUSE_UP:"mouseup"},KEYBOARD:{KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup"},DEVICE:{DEVICE_ORIENTATION:"deviceorientation",DEVICE_MOTION:"devicemotion",ORIENTATION:"MozOrientation",ORIENTATION_CHANGE:"orientationchange"},OBJECT:{ABORT:"abort",BEFORE_UNLOAD:"beforeunload",ERROR:"error",HASH_CHANGE:"hashchange",LOAD:"load",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",PROGRESS:"progress"},FORM:{BLUR:"blur",CHANGE:"change",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",INPUT:"input",INVALID:"invalid",RESET:"reset",SEARCH:"search",SELECT:"select",SUBMIT:"submit",CANCEL:"cancel"},DRAG:{DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DRAG_START:"dragstart",DROP:"drop"},CLIPBOARD:{COPY:"copy",CUT:"cut",PASTE:"paste"},PRINT:{AFTER_PRINT:"afterprint",BEFORE_PRINT:"beforeprint"},MEDIA:{ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting"},ANIMATION:{ANIMATION_END:"animationend",ANIMATION_ITERATION:"animationiteration",ANIMATION_START:"animationstart"},TRANSITION:{TRANSITION_END:"transitionend"},SERVER_SENT:{ERROR:"error",MESSAGE:"message",OPEN:"open"},MISC:{MESSAGE:"message",ONLINE:"online",OFFLINE:"offline",POP_STATE:"popstate",SHOW:"show",STORAGE:"storage",TOGGLE:"toggle",WHEEL:"wheel"},TOUCH:{TOUCH_CANCEL:"touchcancel",TOUCH_END:"touchend",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart"}};e.exports=n},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e){o("[ElementUpdateDelegate]::new(",e,")"),this.__define_properties();var t=0,n=null,r=null,u=null,d=null,h=null,p=null,c=null,f=null;this.delegate=e,this.setDirty=function(e,n){if(o("[ElementUpdateDelegate]::setDirty(",e,n,")"),this.transmissive!==a.NONE&&this.delegate.children)for(var r in this.delegate.children){var s=void 0;s=i(this.delegate.children[r],Array)?this.delegate.children[r]:[this.delegate.children[r]];for(var l=s.length,u=0;l>u;u++){var d=s[u];if(d.updateDelegate&&d.updateDelegate.setDirty){var h=e&d.updateDelegate.receptive;h!==a.NONE&&d.updateDelegate.setDirty(h,n)}}}if(!this.isDirty(e)||n){switch(e){case a.NONE:case a.ALL:t=e;break;default:t|=e}n?this.update():this._pendingAnimationFrame||(this._pendingAnimationFrame=m(this.update.bind(this)))}},this.isDirty=function(e){switch(o("[ElementUpdateDelegate]::isDirty(",e,t,")"),e){case a.NONE:case a.ALL:return t===e;default:return 0!==(e&t)}},this.init=function(){o("[ElementUpdateDelegate]::init()");var e=this.conductor||window;window&&e&&e.addEventListener&&(this.responsive===!0||i(this.responsive,Array))&&((this.responsive===!0||this.responsive.indexOf(l.OBJECT.RESIZE)>-1||this.responsive.indexOf(l.DEVICE.ORIENTATION_CHANGE)>-1)&&(n=0===this.refreshRate?y.bind(this):s(y.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(l.OBJECT.SCROLL)>-1)&&(r=0===this.refreshRate?b.bind(this):s(b.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(l.MISC.WHEEL)>-1)&&(h=0===this.refreshRate?g.bind(this):s(g.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(l.MOUSE.MOUSE_MOVE)>-1)&&(u=0===this.refreshRate?E.bind(this):s(E.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(l.DEVICE.DEVICE_ORIENTATION)>-1||this.responsive.indexOf(l.DEVICE.DEVICE_MOTION)>-1||this.responsive.indexOf(l.DEVICE.ORIENTATION)>-1)&&(d=0===this.refreshRate?O.bind(this):s(O.bind(this),this.refreshRate)),(this.responsive===!0||this.responsive.indexOf(l.KEYBOARD.KEY_DOWN)>-1)&&(f=T.bind(this)),(this.responsive===!0||this.responsive.indexOf(l.KEYBOARD.KEY_PRESS)>-1)&&(c=w.bind(this)),(this.responsive===!0||this.responsive.indexOf(l.KEYBOARD.KEY_UP)>-1)&&(p=_.bind(this)),n&&(window.addEventListener(l.OBJECT.RESIZE,n),window.addEventListener(l.DEVICE.ORIENTATION_CHANGE,n)),r&&e.addEventListener(l.OBJECT.SCROLL,r),h&&e.addEventListener(l.MISC.WHEEL,h),u&&e.addEventListener(l.MOUSE.MOUSE_MOVE,u),d&&(window.DeviceOrientationEvent?window.addEventListener(l.DEVICE.DEVICE_ORIENTATION,d):window.DeviceMotionEvent&&window.addEventListener(l.DEVICE.DEVICE_MOTION,d)),f&&window.addEventListener(l.KEYBOARD.KEY_DOWN,f),c&&window.addEventListener(l.KEYBOARD.KEY_PRESS,c),p&&window.addEventListener(l.KEYBOARD.KEY_UP,p)),this.setDirty(a.ALL)},this.destroy=function(){o("[ElementUpdateDelegate]::destroy()"),v();var e=this.conductor||window;window&&e&&e.removeEventListener&&(n&&(window.removeEventListener(l.OBJECT.RESIZE,n),window.removeEventListener(l.DEVICE.ORIENTATION_CHANGE,n)),r&&e.removeEventListener(l.OBJECT.SCROLL,r),h&&e.removeEventListener(l.MISC.WHEEL,h),u&&e.removeEventListener(l.MOUSE.MOUSE_MOVE,u),d&&(window.DeviceOrientationEvent?window.removeEventListener(l.DEVICE.DEVICE_ORIENTATION,d):window.DeviceMotionEvent&&window.removeEventListener(l.DEVICE.DEVICE_MOTION,d)),f&&window.removeEventListener(l.KEYBOARD.KEY_DOWN,f),c&&window.removeEventListener(l.KEYBOARD.KEY_PRESS,c),p&&window.removeEventListener(l.KEYBOARD.KEY_UP,p)),n=null,r=null,h=null,u=null,d=null,f=null,c=null,p=null},this.update=function(){o("[ElementUpdateDelegate]::update()"),v(this._pendingAnimationFrame),this.delegate&&this.delegate.update&&this.delegate.update.call(this.delegate),this.setDirty(a.NONE),delete this.mouse.pointerX,delete this.mouse.pointerY,delete this.mouse.wheelX,delete this.mouse.wheelY,delete this.orientation.x,delete this.orientation.y,delete this.orientation.z,delete this.keyCode.up,delete this.keyCode.press,delete this.keyCode.down,this._pendingAnimationFrame=null};var m=function(e){var t=window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||null;return t||(t=function(e){return window?window.setTimeout(e,10):null}),t(e)},v=function(e){var t=window&&(window.requestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame)||null;return t||(t=function(e){return window?window.clearTimeout(e):null}),t},y=function(e){this.setDirty(a.SIZE)},b=function(e){this.setDirty(a.POSITION)},E=function(e){this.mouse.pointerX=e.clientX,this.mouse.pointerY=e.clientY,this.setDirty(a.INPUT)},g=function(e){this.mouse.wheelX=e.deltaX,this.mouse.wheelY=e.deltaY,this.setDirty(a.INPUT)},O=function(e){if(window){var t=void 0,n=void 0,r=void 0;i(e,window.DeviceOrientationEvent)?(t=e.beta,n=e.gamma,r=e.alpha):i(e,window.DeviceMotionEvent)?(t=2*e.acceleration.x,n=2*e.acceleration.y,r=2*e.acceleration.z):(t=50*e.orientation.x,n=50*e.orientation.y,r=50*e.orientation.z),this.orientation.x=t,this.orientation.y=n,this.orientation.z=r,this.setDirty(a.ORIENTATION)}},T=function(e){window&&(void 0===this.keyCode.down&&(this.keyCode.down=[]),this.keyCode.down.push(e.keyCode),this.setDirty(a.INPUT))},w=function(e){window&&(void 0===this.keyCode.press&&(this.keyCode.press=[]),this.keyCode.press.push(e.keyCode),this.setDirty(a.INPUT))},_=function(e){window&&(void 0===this.keyCode.up&&(this.keyCode.up=[]),this.keyCode.up.push(e.keyCode),this.setDirty(a.INPUT))}}var s=n(22),o=n(16),a=n(18),l=n(20),u=0;r.prototype.__define_properties=function(){Object.defineProperty(this,"delegate",{value:null,writable:!0}),Object.defineProperty(this,"responsive",{value:!1,writable:!0}),Object.defineProperty(this,"refreshRate",{value:u,writable:!0}),Object.defineProperty(this,"transmissive",{value:a.NONE,writable:!0}),Object.defineProperty(this,"receptive",{value:a.NONE,writable:!0}),Object.defineProperty(this,"conductor",{value:window,writable:!0}),Object.defineProperty(this,"mouse",{value:{},writable:!1}),Object.defineProperty(this,"orientation",{value:{},writable:!1}),Object.defineProperty(this,"keyCode",{value:{},writable:!1})},r.prototype.toString=function(){return"[ElementUpdateDelegate{"+(this.delegate&&this.delegate.name||"undefined")+"}]"},e.exports=r},function(e,t,n){"use strict";function i(e,t,n){r(e,"function",!1,"Invalid parameter: method"),r(t,"number",!0,"Invalid optional parameter: delay"),r(n,"boolean",!0,"Invalid optional parameter: leading"),void 0===t&&(t=0),void 0===n&&(n=!1);var i=void 0;return function(){var r=this,s=arguments,o=function(){i=null,n||e.apply(r,s)},a=n&&!i;clearTimeout(i),i=setTimeout(o,t),a&&e.apply(r,s)}}var r=n(5);e.exports=i},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(){r.__super__.constructor.apply(this,arguments)}var s=n(6),o=n(24),a=n(18),l=n(14);o(r,l),r.PRELOAD={AUTO:"auto",METADATA:"metada",NONE:"none"},r.prototype.update=function(){this.updateDelegate.isDirty(a.DATA)&&this._updateSource(),this.updateDelegate.isDirty(a.CUSTOM),r.__super__.update.call(this)},r.prototype.factory=function(){return document.createElement("video")},r.prototype._updateSource=function(){var e=void 0,t=void 0,n=this.element.getElementsByTagName("source");for(t=n.length,e=0;t>e;e++){var i=n[e];this.element.removeChild(i)}if(this.source)for(t=this.source.length,e=0;t>e;e++){var r=document.createElement("source"),s=this.source[e].src,o=this.source[e].type,a=s.split(".").pop();r.setAttribute("src",s),r.setAttribute("type",o||"video/"+a),this.element.appendChild(r)}},r.prototype.toString=function(){return"[Video{"+this.name+"}]"},r.prototype.__define_properties=function(){Object.defineProperty(this,"autoplay",{get:function(){return this.element.autoplay},set:function(e){this.element.autoplay=e,this.updateDelegate.setDirty(a.CUSTOM)}}),Object.defineProperty(this,"controls",{get:function(){return this.element.controls},set:function(e){this.element.controls=e,this.updateDelegate.setDirty(a.CUSTOM)}}),Object.defineProperty(this,"loop",{get:function(){return this.element.loop},set:function(e){this.element.loop=e,this.updateDelegate.setDirty(a.CUSTOM)}}),Object.defineProperty(this,"muted",{get:function(){return this.element.muted},set:function(e){this.element.muted=e,this.updateDelegate.setDirty(a.CUSTOM)}}),Object.defineProperty(this,"poster",{get:function(){
return this.element.poster},set:function(e){this.element.poster=e,this.updateDelegate.setDirty(a.CUSTOM)}}),Object.defineProperty(this,"preload",{get:function(){return this.element.preload},set:function(e){this.element.preload=e,this.updateDelegate.setDirty(a.CUSTOM)}}),Object.defineProperty(this,"source",{get:function(){return this._source},set:function(e){Object.defineProperty(this,"_source",{value:e,writable:!0}),this.updateDelegate.setDirty(a.DATA)}}),r.__super__.__define_properties.call(this)},r.prototype.__set_element=function(e){s(i(e,HTMLVideoElement),"Invalid element type specified. Must be an instance of HTMLVideoElement."),r.__super__.__set_element.call(this,e)},e.exports=r},function(e,t,n){"use strict";function i(e,t){function n(){this.constructor=e}r(e,"class",!1,"Invalid parameter: childClass"),r(t,"class",!1,"Invalid parameter: parentClass");for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=Object.create(t.prototype),e.prototype=new n,e.__super__=t.prototype,e}var r=n(5);e.exports=i},function(e,t,n){"use strict";function i(e,t){var n=s(e),i=s(t);if(!r(1===n.length,"Invalid parent specified. Parent must be a single HTMLElement, Requiem Element, or jQuery object."))return!1;if(!r(1===i.length,"Invalid child specified. Child must be a single HTMLElement, Requiem Element, or jQuery object."))return!1;if(!r(document,"Document not found. This method requires document to be valid."))return!1;var o=n[0],a=i[0];if(!a.parentNode)return!1;for(;null!==a&&void 0!==a&&a!==document;)if(a=a.parentNode,a===o)return!0;return!1}var r=n(6),s=n(26);e.exports=i},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){var r=n(14);if(!e)return null;var s=void 0;s=i(e,Array)?e:i(e,NodeList)?Array.prototype.slice.call(e):e.jquery?e.get():i(e,r)?[e.element]:[e];for(var o=s.length,a=0;o>a;a++){var l=s[a];!t&&i(l,r)&&(s[a]=l.element)}return s}e.exports=r},function(e,t,n){"use strict";function i(e){if(!document)return null;r(e,"string",!0,"Value must be a string");var t=document.createElement("div");return t.innerHTML=e,t.firstChild}var r=n(5);e.exports=i},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"EventDispatcher",{value:n(29),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(){this.__define_properties()}var r=n(6),s=n(5),o=n(16);i.prototype.addEventListener=function(e,t){s(e,"string",!1,"Invalid parameter: type")&&s(t,"function",!1,"Invalid parameter: listener")&&(o("[EventDispatcher]::addEventListener("+e+")"),this._listenerMap||Object.defineProperty(this,"_listenerMap",{value:{},writable:!0}),this._listenerMap[e]||(this._listenerMap[e]=[]),this._listenerMap[e].push(t))},i.prototype.removeEventListener=function(e,t){if(s(e,"string",!1,"Invalid parameter: type")&&s(t,"function",!0,"Invalid parameter: listener")&&r(this._listenerMap,"Listener map is null.")&&r(this._listenerMap[e],"There are no listeners registered for event type: "+e))if(o("[EventDispatcher]::removeEventListener("+e+")"),t){var n=this._listenerMap[e].indexOf(t);n>-1&&this._listenerMap[e].splice(n,1)}else delete this._listenerMap[e]},i.prototype.hasEventListener=function(e,t){if(s(e,"string",!1,"Invalid parameter: type")&&s(t,"function",!0,"Invalid parameter: listener")&&r(this._listenerMap,"Listener map is null.")&&r(this._listenerMap[e],"There are no listeners registered for event type: "+e)){if(t){var n=this._listenerMap[e].indexOf(t);return n>-1}return!0}},i.prototype.dispatchEvent=function(e){if(s(e,Event,!1,"Event must be specified.")&&r(this._listenerMap,"Listener map is null.")&&this._listenerMap[e.type]){o("[EventDispatcher]::dispatchEvent("+e.type+")");for(var t=this._listenerMap[e.type].length,n=0;t>n;n++){var i=this._listenerMap[e.type][n];i.call(this,e)}}},i.prototype.__define_properties=function(){},e.exports=i},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"AssetLoader",{value:n(31),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(){r.__super__.constructor.apply(this,arguments)}var s=n(6),o=n(24),a=n(16),l=n(29),u=n(20),d=["jpg","png","svg","jpeg","gif"],h=["mp4","mpeg","ogg","ogv","mov","avi","flv"],p=["mp3","mp4","mpeg","flac","wav","ogg"],c={IMAGE:{jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg"},VIDEO:{mp4:"video/mp4",mov:"video/quicktime",mpeg:"video/mpeg",ogg:"video/ogg",ogv:"video/ogg",avi:"video/avi",flv:"video/x-flv"},AUDIO:{mp3:"audio/mpeg",mpeg:"audio/mpeg",mp4:"audio/mp4",flac:"audio/flac",ogg:"audio/ogg",wav:"audio/vnd.wave"}};o(r,l),r.STATE={IDLE:0,IN_PROGRESS:1,COMPLETED:2,FAILED:3,ABORTED:4},r.TYPE={IMAGE:"image",VIDEO:"video",AUDIO:"audio"},r.prototype.init=function(){if(!(this.queue.length<1)){a("[AssetLoader]::init()");var e=this.queue.length;this._xhrs=[],this._pending=e;for(var t=0;e>t;t++){var n=this.queue[t];a("[AssetLoader]::Started loading: "+n.path);var i=this.getXHR({id:t,path:n.path,type:n.type});i.send(),this._xhrs.push(i)}}},r.prototype.destroy=function(){if(this._xhrs){for(var e=this._xhrs.length,t=0;e>t;t++){var n=this._xhrs[t];n.abort(),this._xhrs[t]=null}this._queue=null,this._assets=null,this._bytesLoaded=null,this._bytesTotal=null}this._state=r.STATE.IDLE},r.prototype.enqueue=function(){if(s(arguments&&arguments.length>0,"There are no arguments specified."),s(this.state!==r.STATE.IN_PROGRESS,"Enqueueing is prohibited when the state is in progress."),arguments&&!(arguments.length<=0)&&this.state!==r.STATE.IN_PROGRESS){a("[AssetLoader]::enqueue("+arguments+")");for(var e=arguments.length,t=0;e>t;t++){var n=arguments[t];s("string"==typeof n||"object"===("undefined"==typeof n?"undefined":i(n)),'Each item to be enqueued must be a string of the target path or an object containing a "path" key and/or a "type" key'),s("string"==typeof n||"string"==typeof n.path,"Invalid path specified: "+n.path+".");var o="string"==typeof n?n:n.path,l=n.type;if(!l){var u=o.split(".").pop().toLowerCase();if(d.indexOf(u)>-1)l=r.TYPE.IMAGE;else if(h.indexOf(u)>-1)l=r.TYPE.VIDEO;else{if(!(p.indexOf(u)>-1))throw"[AssetLoader]::Unsupported asset format: "+o;l=r.TYPE.AUDIO}}l&&(this.queue.push({path:o,type:l}),this._bytesLoaded||(this._bytesLoaded=[]),this._bytesTotal||(this._bytesTotal=[]),this._bytesLoaded.push(0),this._bytesTotal.push(0))}}},r.prototype.dequeue=function(){if(s(arguments&&arguments.length>0,"There are no arguments specified."),s(this.state!==r.STATE.IN_PROGRESS,"Dequeueing is prohibited when the state is in progress."),arguments&&!(arguments.length<=0)&&this.state!==r.STATE.IN_PROGRESS)for(var e=arguments.length,t=0;e>t;t++){var n=arguments[t];s("string"==typeof n,"Expecting path to be a string.");for(var i=this.queue.length,o=0;i>o;o++){var a=this.queue[o];if(a.path===n){this.queue.splice(o,1),this.bytesLoaded.splice(o,1),this.bytesTotal.splice(o,1);break}}}},r.prototype.getXHR=function(e){var t=e.path.split(".").pop().toLowerCase(),n=c[e.type.toUpperCase()][t];if(!n)throw"[AssetLoader]:: Unsupported asset format: "+e.path;var i=new XMLHttpRequest;return i.addEventListener("progress",this._onXHRProgress.bind(this),!1),i.addEventListener("load",this._onXHRLoadComplete.bind(this),!1),i.addEventListener("error",this._onXHRLoadError.bind(this),!1),i.addEventListener("abort",this._onXHRAbort.bind(this),!1),i.open("GET",e.path,this.async),i.overrideMimeType&&i.overrideMimeType(n),i.data=e,i},r.prototype._onXHRProgress=function(e){if(e.lengthComputable){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type,s=e.loaded,o=e.total;t.data.bytesLoaded=s,t.data.bytesTotal=o,this._bytesLoaded[n]=s,this._bytesTotal[n]=o,this._bytesLoaded||(this._bytesLoaded=[]),a('[AssetLoader]::_onXHRProgress("'+i+'":'+s+"/"+o+")");var l=new CustomEvent(u.OBJECT.PROGRESS,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(l)}},r.prototype._onXHRLoadComplete=function(e){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type;a('[AssetLoader]::_onXHRLoadComplete("'+i+'"")'),this._pending--;var s=new CustomEvent(u.OBJECT.LOAD,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(s)},r.prototype._onXHRLoadError=function(e){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type;a('[AssetLoader]::_onXHRLoadError("'+i+'"")'),this._pending--;var s=new CustomEvent(u.OBJECT.ERROR,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});if(this.dispatchEvent(s),0===this._pending){var o=new CustomEvent(u.OBJECT.LOAD,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(o)}},r.prototype._onXHRAbort=function(e){var t=e.currentTarget,n=t.data.id,i=t.data.path,r=t.data.type;a('[AssetLoader]::_onXHRLoadError("'+i+'"")'),this._pending--;var s=new CustomEvent(u.OBJECT.ABORT,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});if(this.dispatchEvent(s),0===this._pending){var o=new CustomEvent(u.OBJECT.LOAD,{bubbles:!0,cancelable:!0,detail:{id:n,path:i,type:r,pending:this._pending,loaded:this.bytesLoaded,total:this.bytesTotal}});this.dispatchEvent(o)}},r.prototype.__define_properties=function(){Object.defineProperty(this,"state",{get:function(){return this._state||Object.defineProperty(this,"_state",{value:r.STATE.IDLE,writable:!0}),this._state}}),Object.defineProperty(this,"queue",{get:function(){return this._queue||Object.defineProperty(this,"_queue",{value:[],writable:!0}),this._queue}}),Object.defineProperty(this,"assets",{get:function(){return this._assets||Object.defineProperty(this,"_assets",{value:{},writable:!0}),this._assets}}),Object.defineProperty(this,"async",{get:function(){return void 0===this._async?!0:this._async},set:function(e){s(this.state!==r.STATE.IN_PROGRESS,"Cannot change the async mode while it is in progress."),this.state!==r.STATE.IN_PROGRESS&&Object.defineProperty(this,"_async",{value:e,writable:!0})}}),Object.defineProperty(this,"bytesLoaded",{get:function(){if(this._bytesLoaded){for(var e=0,t=this._bytesLoaded.length,n=0;t>n;n++)e+=this._bytesLoaded[n];return e}return 0}}),Object.defineProperty(this,"bytesTotal",{get:function(){if(this._bytesTotal){for(var e=0,t=this._bytesTotal.length,n=0;t>n;n++)e+=this._bytesTotal[n];return e}return 0}}),Object.defineProperty(this,"progress",{get:function(){if(!this._bytesTotal||!this._bytesLoaded)return 0;if(this._bytesTotal.length!==this._bytesLoaded.length)return 0;for(var e=this._bytesTotal.length,t=0,n=0;e>n;n++){var i=this._bytesLoaded[n],r=this._bytesTotal[n];r>0&&(t+=i/r)}return t/e}}),r.__super__.__define_properties.call(this)},e.exports=r},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"Directive",{value:n(11),writable:!1,enumerable:!0}),Object.defineProperty(i,"DirtyType",{value:n(18),writable:!1,enumerable:!0}),Object.defineProperty(i,"EventType",{value:n(20),writable:!1,enumerable:!0}),Object.defineProperty(i,"KeyCode",{value:n(33),writable:!1,enumerable:!0}),Object.defineProperty(i,"NodeState",{value:n(19),writable:!1,enumerable:!0}),e.exports=i},function(e,t){"use strict";var n={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_CMD:91,RIGHT_CMD:92,SELECT:93,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222};e.exports=n},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"Element",{value:n(14),writable:!1,enumerable:!0}),Object.defineProperty(i,"ElementUpdateDelegate",{value:n(21),writable:!1,enumerable:!0}),Object.defineProperty(i,"Video",{value:n(23),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";var i={};Object.defineProperty(i,"addClass",{value:n(36),writable:!1,enumerable:!0}),Object.defineProperty(i,"changeElementState",{value:n(39),writable:!1,enumerable:!0}),Object.defineProperty(i,"hasClass",{value:n(37),writable:!1,enumerable:!0}),Object.defineProperty(i,"hasChild",{value:n(25),writable:!1,enumerable:!0}),Object.defineProperty(i,"getClassIndex",{value:n(38),writable:!1,enumerable:!0}),Object.defineProperty(i,"getElementState",{value:n(40),writable:!1,enumerable:!0}),Object.defineProperty(i,"getIntersectRect",{value:n(41),writable:!1,enumerable:!0}),Object.defineProperty(i,"getRect",{value:n(42),writable:!1,enumerable:!0}),Object.defineProperty(i,"getViewportRect",{value:n(43),writable:!1,enumerable:!0}),Object.defineProperty(i,"hitTestElement",{value:n(44),writable:!1,enumerable:!0}),Object.defineProperty(i,"hitTestRect",{value:n(45),writable:!1,enumerable:!0}),Object.defineProperty(i,"removeClass",{value:n(46),writable:!1,enumerable:!0}),Object.defineProperty(i,"translate",{value:n(47),writable:!1,enumerable:!0}),Object.defineProperty(i,"translate3d",{value:n(48),writable:!1,enumerable:!0}),Object.defineProperty(i,"transform",{value:n(49),writable:!1,enumerable:!0}),e.exports=i},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){var n=o(e),r=[],l=n.length;if(s("string"==typeof t||i(t,Array),"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof t?r.push(t):r=t;for(var u=r.length,d=0;l>d;d++)for(var h=n[d],p=0;u>p;p++){var c=r[p];s("string"==typeof c,"Invalid class detected: "+c)&&(a(h,c)||(h.className=h.className+(""===h.className?"":" ")+c))}}}var s=n(6),o=n(26),a=n(37);e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!r(t&&"string"==typeof t,"Invalid class name: "+t))return!1;for(var n=s(e),i=n.length,a=0;i>a;a++){var l=n[a];if(o(l,t)<0)return!1}return!0}var r=n(6),s=n(26),o=n(38);e.exports=i},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){if(!s(e&&(i(e,HTMLElement)||i(e,o)||e.jquery),"Invalid element specified. Element must be an instance of HTMLElement or Element."))return null;if(i(e,o)&&(e=e.element),e.jquery&&(e=e.get(0)),!s(t&&"string"==typeof t,"Invalid class name: "+t))return-1;var n=e.className.split(" ");return n.indexOf(t)}var s=n(6),o=n(14);e.exports=r},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){var n=s(e,!0);if(n)for(var r=n.length,u=0;r>u;u++){var d=n[u];o(d)!==t&&(i(d,l)?d.state=t:d.setAttribute("data-"+a.STATE,t))}}var s=n(26),o=n(40),a=n(11),l=n(14);e.exports=r},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e){if(!s(e&&(i(e,HTMLElement)||i(e,a)||e.jquery),"Invalid element specified."))return null;e.jquery&&(e=e.get(0));var t=void 0;return t=i(e,a)?e.state:e.getAttribute(o.STATE)||e.getAttribute("data-"+o.STATE),t&&""!==t?t:null}var s=n(6),o=n(11),a=n(14);e.exports=r},function(e,t,n){"use strict";function i(e){if(!r(window,"This method relies on the window object, which is undefined."))return null;var t=arguments.length;if(!r(t>0,"This method requires at least 1 argument specified."))return null;for(var n={},i=void 0,o=void 0,a=0;t>a;a++){if(i||(i=s(arguments[a])),!r(i,"Invalid computed rect."))return null;if(0===a&&a+1===t)o=s(window);else{if(!(t>a+1))break;o=s(arguments[a+1])}if(!r(o,"Invalid computed rect."))return null;n.width=Math.max(0,Math.min(i.right,o.right)-Math.max(i.left,o.left)),n.height=Math.max(0,Math.min(i.bottom,o.bottom)-Math.max(i.top,o.top)),n.top=Math.max(i.top,o.top),n.left=Math.max(i.left,o.left),n.bottom=n.top+n.height,n.right=n.left+n.width,n.width*n.height===0&&(n.width=0,n.height=0,n.top=0,n.left=0,n.bottom=0,n.right=0),i=n}return n}var r=n(6),s=n(42);e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!r(window,"This method relies on the window object, which is undefined."))return null;if(e===window)return o();t||(t=window);var n=s(e),a=n.length;if(0>=a)return null;var l=i(t);if(!r(l,"Cannot determine reference FOV."))return null;for(var u=i(window),d={},h=0;a>h;h++){var p=n[h],c=p.getBoundingClientRect(),f=c.width,m=c.height,v=c.top+u.top;t!==window&&(v-=l.top);var y=c.left+u.left;t!==window&&(y-=l.left);var b=v+m,E=y+f;void 0===d.left?d.left=y:d.left=Math.min(d.left,y),void 0===d.right?d.right=E:d.right=Math.max(d.right,E),void 0===d.top?d.top=v:d.top=Math.min(d.top,v),void 0===d.bottom?d.bottom=b:d.bottom=Math.max(d.bottom,b)}return d.width=d.right-d.left,d.height=d.bottom-d.top,d}var r=n(6),s=n(26),o=n(43);e.exports=i},function(e,t,n){"use strict";function i(){if(!r(window&&document,"Window or document undefined."))return null;var e={};return e.width=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e.top=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e.left=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e.bottom=e.top+e.height,e.right=e.left+e.width,e}var r=n(6);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){if(!s(arguments.length>1,"Insufficient arguments. Expecting at least 2."))return!1;var n=Array.prototype.slice.call(arguments),r="object"===i(n[0])&&n[0].hasOwnProperty("x")&&n[0].hasOwnProperty("y");if(r){for(var l=n.shift(),u=n.length,d=!1,h=0;u>h;h++){var p=a(n[h]),c=l.x>=p.left&&l.x<=p.right,f=l.y>=p.top&&l.x<=p.bottom;c&&f&&(d=!0)}return d}var m=o.apply(null,arguments);return s(m,"Invalid elements specified.")?m.width*m.height!==0:!1}var s=n(6),o=n(41),a=n(42);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t){if(!s(arguments.length>1,"Insufficient arguments. Expecting at least 2."))return!1;var n=Array.prototype.slice.call(arguments),r="object"===i(n[0])&&n[0].hasOwnProperty("x")&&n[0].hasOwnProperty("y");if(r){for(var a=n.shift(),l=n.length,u=!1,d=0;l>d;d++){var h=n[d];if(!s(!(void 0===h.top||isNaN(h.top)||void 0===h.right||isNaN(h.right)||void 0===h.bottom||isNaN(h.bottom)||void 0===h.left||isNaN(h.left)),'Invalid rect supplied. Rect must be an object containing "top", "right", "bottom", and "left" key values.'))return!1;var p=a.x>=h.left&&a.x<=h.right,c=a.y>=h.top&&a.x<=h.bottom;p&&c&&(u=!0)}return u}var f=o.apply(null,arguments);return s(f,"Invalid elements specified.")?f.width*f.height!==0:!1}var s=n(6),o=n(41);e.exports=r},function(e,t,n){"use strict";function i(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){var n=o(e),r=[],a=n.length;if(s("string"==typeof t||i(t,Array),"Invalid class name specified. Must be either a string or an array of strings.")){"string"==typeof t?r.push(t):r=t;for(var l=r.length,u=0;a>u;u++)for(var d=n[u],h=0;l>h;h++){var p=r[h];if(s("string"==typeof p,"Invalid class detected: "+p)){var c=new RegExp("^"+p+"\\s+|\\s+"+p,"g");d.className=d.className.replace(c,"")}}}}var s=n(6),o=n(26);e.exports=r},function(e,t,n){"use strict";function i(e,t,n){var i=s(e),o=i.length;if(t){if(!r(void 0===t.top||!isNaN(t.top),"Top property must be a number."))return null;if(!r(void 0===t.right||!isNaN(t.right),"Right property must be a number."))return null;if(!r(void 0===t.bottom||!isNaN(t.bottom),"Bottom property must be a number."))return null;if(!r(void 0===t.left||!isNaN(t.left),"Left property must be a number."))return null;var a=t.units||"px";if(n){if(!r(void 0===n.top||!isNaN(n.top),"Top constraint must be a number."))return null;if(!r(void 0===n.right||!isNaN(n.right),"Right constraint must be a number."))return null;if(!r(void 0===n.bottom||!isNaN(n.bottom),"Bottom constraint must be a number."))return null;if(!r(void 0===n.left||!isNaN(n.left),"Left constraint must be a number."))return null}for(var l=n&&void 0!==n.top?Math.min(t.top,n.top):t.top,u=n&&void 0!==n.right?Math.min(t.right,n.right):t.right,d=n&&void 0!==n.bottom?Math.min(t.bottom,n.bottom):t.bottom,h=n&&void 0!==n.left?Math.min(t.left,n.left):t.left,p=0;o>p;p++)void 0!==t.top&&(i[p].style.top=String(l)+a),void 0!==t.right&&(i[p].style.right=String(u)+a),void 0!==t.bottom&&(i[p].style.bottom=String(d)+a),void 0!==t.left&&(i[p].style.left=String(h)+a);var c={};return void 0!==t.top&&(c.top=l),void 0!==t.right&&(c.right=u),void 0!==t.bottom&&(c.bottom=d),void 0!==t.left&&(c.left=h),c}for(var f=0;o>f;f++)i[f].style.top="initial",i[f].style.right="initial",i[f].style.bottom="initial",i[f].style.left="initial";return{top:"initial",right:"initial",bottom:"initial",left:"initial"}}var r=n(6),s=n(26);e.exports=i},function(e,t,n){"use strict";function i(e,t,n){var i=s(e),o=i.length;if(t){if(!r(void 0===t.x||!isNaN(t.x),"X property must be a number."))return null;if(!r(void 0===t.y||!isNaN(t.y),"Y property must be a number."))return null;if(!r(void 0===t.z||!isNaN(t.z),"Z property must be a number."))return null;var a=t.units||"px";if(n){if(!r(void 0===n.x||!isNaN(n.x),"X constraint must be a number."))return null;if(!r(void 0===n.y||!isNaN(n.y),"Y constraint must be a number."))return null;if(!r(void 0===n.z||!isNaN(n.z),"Z constraint must be a number."))return null}var l=n&&void 0!==n.x?Math.min(t.x,n.x):t.x,u=n&&void 0!==n.y?Math.min(t.y,n.y):t.y,d=n&&void 0!==n.z?Math.min(t.z,n.z):t.z,h=void 0!==t.x?"translateX("+l+a+")":null,p=void 0!==t.y?"translateY("+u+a+")":null,c=void 0!==t.z?"translateZ("+d+a+")":null,f="";h&&(f+=""===f?h:" "+h),p&&(f+=""===f?p:" "+p),c&&(f+=""===f?c:" "+c);for(var m=0;o>m;m++)i[m].style.transform=f;var v={};return h&&(v.x=l),p&&(v.y=u),c&&(v.z=d),v}for(var y=0;o>y;y++)i[y].style.transform="translateX(0) translateY(0) translateZ(0)";return{x:0,y:0,z:0}}var r=n(6),s=n(26);e.exports=i},function(e,t,n){"use strict";function i(e,t,n){var i=s(e),a=i.length;if(t){if(!r(void 0===t.width||!isNaN(t.width),"Width property must be a number."))return null;if(!r(void 0===t.height||!isNaN(t.height),"Height property must be a number."))return null;if(!r(void 0===t.aspectRatio||!isNaN(t.aspectRatio),"Aspect ratio property must be a number."))return null;var l=o(e),u=t.units||"px",d=void 0!==t.aspectRatio?Number(t.aspectRatio):l.width/l.height,h=t.width,p=t.height,c=t.width,f=t.height,m=t.type||"default";n&&"default"!==m&&(r(void 0===n.width||!isNaN(n.width),"Width constraint must be a number."),r(void 0===n.height||!isNaN(n.height),"Height constraint must be a number."),m&&"cover"===m?(void 0!==n.width&&(c=Math.min(n.width,c)),void 0!==n.width&&(f=Math.min(n.height,f))):(void 0!==n.width&&(h=Math.min(n.width,h)),void 0!==n.height&&(p=Math.min(n.height,p))));var v=void 0,y=void 0;"contain"===m?(v=h>p?p*d:h,y=h>p?p:h/d,v>h?(v=h,y=v/d):y>p&&(y=p,v=y*d)):"cover"===m?(v=c>f?f*d:c,y=c>f?f:c/d,c>v?(v=c,y=v/d):f>y&&(y=f,v=y*d)):(v=h,y=p);for(var b=0;a>b;b++){var E=i[b];void 0!==t.width&&(E.style.width=String(v)+u),void 0!==t.height&&(E.style.height=String(y)+u)}var g={};return void 0!==t.width&&(g.width=v),void 0!==t.height&&(g.height=y),g}for(var O=0;a>O;O++)i[O].style.width="initial",i[O].style.height="initial";return{width:"initial",height:"initial"}}var r=n(6),s=n(26),o=n(42);e.exports=i}])});